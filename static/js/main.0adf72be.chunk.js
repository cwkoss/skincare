(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(19)},,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(6),s=n.n(o),r=(n(15),n(3)),c=n(1);n(16);var l=function(e){let{setForm1Data:t}=e;const n=Object(c.o)(),[o,s]=Object(a.useState)([]),r=e=>o.includes(e);return i.a.createElement("div",null,i.a.createElement("h2",null,"Select Your Skincare Goals/Concerns"),i.a.createElement("form",{onSubmit:e=>{e.preventDefault(),t(o),n("/form2")}},["Adult acne","Aging or age spots","Wrinkles","Large pores","Puffiness","Redness","Sun Protection","Dry skin","Atopic dermatitis"].map((e,t)=>i.a.createElement("button",{key:t,type:"button",onClick:()=>(e=>{const t=o.includes(e)?o.filter(t=>t!==e):[...o,e];s(t)})(e),className:"form1-button ".concat(r(e)?"selected":"")},e)),i.a.createElement("button",{type:"submit",disabled:0===o.length},"Next")))};n(17);var d=function(e){let{setForm2Data:t}=e;const n=Object(c.o)(),[o,s]=Object(a.useState)("");return i.a.createElement("div",{className:"form2-container"},i.a.createElement("h2",null,"Select a Skincare Product"),i.a.createElement("form",{onSubmit:e=>{e.preventDefault(),t(o),n("/summary")}},Object.entries({lotion:"A lightweight moisturizer, often used for normal to oily skin, providing hydration without being too heavy.",cream:"Thicker than lotion, creams are ideal for dry skin as they provide more intensive moisturization.",butter:"Even thicker than creams, butters are used for very dry skin areas, providing deep nourishment and hydration.",balm:"A dense, oil-based product, balms are used for intense healing and protection, often in specific areas.",faceOil:"Provides intensive hydration and nourishment, especially beneficial for dry or mature skin.",cleanser:"Used to remove dirt, oil, and makeup from the skin. It helps in keeping the pores clear and the skin clean."}).map(e=>{let[t,n]=e;return i.a.createElement("div",{key:t},i.a.createElement("button",{type:"button",onClick:()=>(e=>{s(e)})(t),className:o===t?"selected":""},t.charAt(0).toUpperCase()+t.slice(1)),i.a.createElement("p",{className:o===t?"selected":""},n))}),i.a.createElement("button",{class:"submit",type:"submit",disabled:!o},"Next")))};var m=function(e){let{form1Data:t,form2Data:n}=e;const o=Object(c.o)(),[s,r]=Object(a.useState)(!1);return i.a.createElement("div",null,i.a.createElement("h2",null,"Your Selections"),i.a.createElement("h3",null,"Skincare Goals/Concerns:"),i.a.createElement("ul",null,t.map((e,t)=>i.a.createElement("li",{key:t},e))),i.a.createElement("h3",null,"Selected Skincare Product:"),i.a.createElement("p",null,n),s?i.a.createElement("p",null,"Loading..."):i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{onClick:()=>{r(!0);const e=t.join(", "),a={text:"Hello, I am trying to formulate a ".concat(n," for ").concat(e,". Please suggest a recipe?")};console.log("Sending OpenAI request: ",a.text),fetch("https://us-central1-skincare-recipe-tool.cloudfunctions.net/getInitialRecipe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(e=>(console.log(e),e.json())).then(e=>{r(!1),console.log("Success:",e);const t=e.reply.choices[0].message.content,n=JSON.parse(t);console.log(n),o("/recipe-builder",{state:{recipe:n}})}).catch(e=>{r(!1),console.error("Error:",e)})}},"AI Recipe Generation"),i.a.createElement("button",{onClick:()=>{o("/recipe-builder")}},"Build Recipe Manually")))};var u={"Coconut oil":{phase:"oil",comedogenic:4,viscosity:5,hlb:8,description:"Moisturizes skin and hair, rich in fatty acids and antioxidants."},"Argan oil":{phase:"oil",comedogenic:0,viscosity:3,hlb:11,description:"Enhances skin elasticity and hair shine, rich in vitamin E."},"Sunflower oil":{phase:"oil",comedogenic:2,viscosity:3,hlb:0,description:"Lightweight, non-comedogenic oil, suitable for sensitive skin."},"Distilled water":{phase:"aqueous",comedogenic:0,viscosity:1,hlb:20,description:"Hydrates and serves as a base for water-soluble ingredients."},"Salt water":{phase:"aqueous",comedogenic:0,viscosity:1.5,hlb:20,description:"Research is mixed. Some sources suggest that salt water might have beneficial effects on the skin, including potential antimicrobial properties and the ability to dry out pimples. Salt water could also irritate sensitive skin or exacerbate conditions like eczema or dermatitis."},Beeswax:{phase:"emulsifier",comedogenic:2,viscosity:10,hlb:12,description:"Natural stabilizer, thickens formulas and creates protective barrier on skin."},"Cocoa butter":{phase:"oil",comedogenic:4,viscosity:8,hlb:8,description:"Nourishes skin, reduces scars, and offers a chocolaty aroma."},"Pecan oil":{phase:"oil",comedogenic:2,viscosity:4,hlb:0,description:"Rich in antioxidants, moisturizes skin, and promotes hair health."},"Green tea":{phase:"aqueous",comedogenic:0,viscosity:1,hlb:20,description:"Rich in antioxidants, reduces inflammation, and promotes skin healing."},"Pumpkin seed oil":{phase:"oil",comedogenic:2,viscosity:4,hlb:0,description:"Improves skin tone, fights acne, and soothes sensitive skin."},"Benne seed oil":{phase:"oil",comedogenic:3,viscosity:4,hlb:0,description:"Rich in linoleic acid, nourishes skin and strengthens hair."},"Okra seed oil":{phase:"oil",comedogenic:2,viscosity:3,hlb:0,description:"Promotes a healthy scalp and is rich in unsaturated fats. (comedogenic rating estimated)"},"Olive oil":{phase:"oil",comedogenic:2,viscosity:4,hlb:0,description:"Moisturizes skin, rich in vitamins, and promotes hair health."},"Aloe Vera Gel":{phase:"aqueous",comedogenic:0,viscosity:2,hlb:20,description:"Soothes skin irritations, hydrates, and has healing properties."},"Shea Butter":{phase:"oil",comedogenic:0,viscosity:6,hlb:8,description:"Moisturizes deeply, reduces inflammation, and is rich in vitamins."},"Jojoba Oil":{phase:"oil",comedogenic:2,viscosity:2,hlb:0,description:"Mimics natural skin oils, balances skin's sebum production."},Glycerin:{phase:"aqueous",comedogenic:0,viscosity:2,hlb:20,description:"A humectant that draws moisture into the skin, suitable for all skin types."},"Almond Oil":{phase:"oil",comedogenic:2,viscosity:3,hlb:0,description:"Gentle on skin, rich in vitamin E, and excellent for dry skin."},Lecithin:{phase:"emulsifier",comedogenic:0,viscosity:5,hlb:8,description:"Natural stabilizer, thickens formulas and creates protective barrier on skin. (not sure about this viscosity value)"},"Cetearyl Alcohol":{phase:"emulsifier",comedogenic:0,viscosity:8,hlb:16,description:"This is a waxy fatty alcohol derived from natural sources like coconut and palm oils. It's used not only as an emulsifier but also as a thickener and stabilizer in creams and lotions."},"Zinc Oxide":{phase:"additive",comedogenic:0,viscosity:5,hlb:0,max_percent:25,default_percent:10,description:"Adds SPF"},"Hyaluronic Acid":{phase:"additive",comedogenic:0,viscosity:8,hlb:20,max_percent:2,default_percent:.5,description:"A powerful humectant, helps to hydrate and plump the skin by retaining moisture, making it a vital ingredient for maintaining a youthful, radiant complexion."},Retinol:{phase:"additive",comedogenic:0,viscosity:0,hlb:0,max_percent:1,default_percent:.25,description:"A derivative of Vitamin A, is renowned for its anti-aging properties, as it boosts collagen production, accelerates skin renewal, and helps to reduce the appearance of fine lines, wrinkles, and uneven skin tone."},"Vitamin C":{phase:"additive",comedogenic:0,viscosity:0,hlb:20,max_percent:20,default_percent:5,description:"A potent antioxidant that helps to reduce skin inflammation, irregular pigmentation, and promotes healthy collagen production."},"Vitamin E":{phase:"additive",comedogenic:0,viscosity:0,hlb:0,max_percent:1,default_percent:.5,description:"A powerful antioxidant that may be effective at reducing UV damage in skin. And vitamin E applied topically may help nourish and protect your skin from damage caused by free radicals."},"Niacinamide (Vitamin B3)":{phase:"additive",comedogenic:0,viscosity:0,hlb:20,max_percent:5,default_percent:2,description:"Niacinamide is a water-soluble vitamin that works with the natural substances in your skin to help visibly improve the appearance of enlarged pores, uneven skin tone, fine lines and wrinkles, dullness, and a weakened surface."}};var p=function(){var e;const[t,n]=Object(a.useState)([]),[o,s]=Object(a.useState)({}),[r,l]=Object(a.useState)("selectIngredients"),[d,m]=Object(a.useState)(""),p=Object(c.m)(),h=null===(e=p.state)||void 0===e?void 0:e.recipe;console.log(p.state),console.log("initialRecipe",h);const f=()=>{l("adjustProportions")},b=(e,n)=>{let a=100-Object.keys(o).filter(e=>E(e)).reduce((e,t)=>e+o[t],0);const i=t.filter(e=>!E(e)),r={...o,[e]:n};a-=n;const c=i.filter(t=>t!==e).reduce((e,t)=>e+r[t],0);if(c>0){const t=a/c;i.forEach(n=>{if(n!==e){let e=r[n]*t;r[n]=e<0?0:e}})}else i.forEach(t=>{t!==e&&(r[t]=0)});s(r)},[g,y]=Object(a.useState)({}),v=e=>t.includes(e),E=e=>{const t=u[e];return!!t&&"additive"===t.phase},k=()=>{setTimeout(()=>{(()=>{const e={...o};let t=0;Object.keys(e).forEach(n=>{E(n)||(e[n]=Math.round(e[n])),t+=e[n]});const n=100-t,a=Object.keys(e).filter(e=>!E(e)),i=n/a.length;a.forEach(t=>{e[t]+=i});let r=0;if(a.forEach(t=>{e[t]<0&&(r+=e[t],e[t]=0)}),r<0){const t=a.filter(t=>e[t]>=.01),n=Math.abs(r)/t.length;t.forEach(t=>{e[t]+=n})}const c=Object.values(e).reduce((e,t)=>e+t,0);if(c>100){const t=c-100,n=a.filter(t=>e[t]>0),i=t/n.length;n.forEach(t=>{e[t]-=i})}s(e)})()},10)},x={display:"flex",justifyContent:"space-between",padding:"10px",margin:"5px",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},S={backgroundColor:"#e0f7fa"};Object(a.useEffect)(()=>{const e={};t.forEach(t=>{E(t)?e[t]=1:e[t]=10}),s(n=>Object.keys(n).filter(e=>t.includes(e)).reduce((e,t)=>(e[t]=n[t],e),e))},[t]);const j=Object.values(o).reduce((e,t)=>e+t,0),O={color:Math.abs(j-100)<.01?"black":"red"};return Object(a.useEffect)(()=>{if(h){const e={},t=[];Object.keys(h).forEach(n=>{"commentary"!==n&&u[n]?(e[n]=h[n],t.push(n)):"commentary"===n&&m(h[n])}),s(e),n(t),f()}},[h]),i.a.createElement("div",null,"selectIngredients"===r&&i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"}},i.a.createElement("h3",null,"Available Ingredients:"),i.a.createElement("button",{onClick:f},"Adjust Proportions"),i.a.createElement("span",null)),Object.entries(u).map(e=>{let[a,r]=e;return i.a.createElement("div",{key:a,style:{...x,...v(a)?S:{}},onClick:()=>(e=>{if(t.includes(e)){n(t.filter(t=>t!==e));const a={...o};delete a[e],s(a)}else n([...t,e]),s({...o,[e]:"additive"===u[e].phase?u[e].default_percent:10})})(a)},i.a.createElement("strong",null,a),i.a.createElement("small",null,r.description))}))),"adjustProportions"===r&&i.a.createElement("div",null,i.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"}},i.a.createElement("button",{onClick:()=>{l("selectIngredients")}},"Back to Ingredients"),i.a.createElement("h3",null,"Proportions:"),i.a.createElement("span",{style:O},j.toFixed(2),"%")),i.a.createElement("table",{style:{width:"95%",borderCollapse:"collapse"}},i.a.createElement("tbody",null,t.map(e=>{var t;return i.a.createElement(i.a.Fragment,{key:e},i.a.createElement("tr",null,i.a.createElement("td",null,e),i.a.createElement("td",null,o[e].toFixed(2),"%")),i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"2"},E(e)?i.a.createElement("div",{style:{position:"relative"}},i.a.createElement("input",{type:"text",value:null!==(t=g[e])&&void 0!==t?t:o[e],onChange:t=>((e,t)=>{y({...g,[e]:t});const n=parseFloat(t),a=u[e].max_percent||100;if(!isNaN(n)&&t.match(/^\d+(\.\d+)?$/)){const t=n>a?a:n,i={...o,[e]:t};s(i),b(e,n)}})(e,t.target.value),onBlur:t=>(e=>{const t=g[e],n=t?parseFloat(t):0,a=u[e].max_percent||100,i=n>a?a:n;if(!isNaN(i)){const t={...o,[e]:i};s(t),b(e,i),n>a&&y({...g,[e]:a})}})(e,t.target.value),style:{width:"100%",borderColor:o[e]===u[e].max_percent?"red":"initial"}}),o[e]===u[e].max_percent&&i.a.createElement("span",{style:{position:"absolute",right:0,top:0,color:"red"}},"Max")):i.a.createElement("input",{type:"range",min:"0",max:"100",step:"0.01",value:o[e],onChange:t=>((e,t)=>{const n=parseFloat(t);b(e,n)})(e,t.target.value),onMouseUp:k,onTouchEnd:k,style:{width:"100%"}}))))}))),d&&i.a.createElement("div",null,i.a.createElement("h3",null,"Commentary:"),i.a.createElement("p",null,d))))};n(18);var h=function(){const[e,t]=Object(a.useState)([]),[n,o]=Object(a.useState)("");return i.a.createElement(r.a,null,i.a.createElement(c.c,null,i.a.createElement(c.a,{path:"/",element:i.a.createElement("div",{style:{textAlign:"center",marginTop:"20%"}},i.a.createElement("h1",null,"Welcome to the Skincare Formulation App!"),i.a.createElement(r.b,{to:"/form1"},i.a.createElement("button",null,"Start Form")))}),i.a.createElement(c.a,{path:"/form1",element:i.a.createElement(l,{setForm1Data:t})}),i.a.createElement(c.a,{path:"/form2",element:i.a.createElement(d,{setForm2Data:o})}),i.a.createElement(c.a,{path:"/summary",element:i.a.createElement(m,{form1Data:e,form2Data:n})}),i.a.createElement(c.a,{path:"/recipe-builder",element:i.a.createElement(p,null)})))};var f=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then(t=>{let{getCLS:n,getFID:a,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),a(e),i(e),o(e),s(e)})};s.a.createRoot(document.getElementById("root")).render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(h,null))),f()}],[[7,1,2]]]);
//# sourceMappingURL=main.0adf72be.chunk.js.map