(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a(19)},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(6),s=a.n(r),o=(a(15),a(3)),l=a(1);a(16);var c=function(e){let{setGoalsData:t,setSelectedMoodsApp:a,setIncludeFragranceApp:r}=e;const s=Object(l.o)(),[o,c]=Object(n.useState)([]),[d,u]=Object(n.useState)("no"),[p,m]=Object(n.useState)([]),h=e=>o.includes(e),b=e=>p.includes(e);return i.a.createElement("div",null,i.a.createElement("h2",null,"Select Your Skincare Goals/Concerns"),i.a.createElement("form",{onSubmit:e=>{e.preventDefault(),t(o),a(p),r(d),s("/product")}},["Adult acne","Dry skin","Sensitive Skin","Wrinkles","Puffiness","Redness","Sun Protection","Aging or age spots","Large pores","Atopic dermatitis"].map((e,t)=>i.a.createElement("button",{key:t,type:"button",onClick:()=>(e=>{const t=o.includes(e)?o.filter(t=>t!==e):[...o,e];c(t)})(e),className:"goals-button ".concat(h(e)?"selected":"")},e)),i.a.createElement("div",null,i.a.createElement("h3",null,"Include natural fragrances?"),i.a.createElement("button",{type:"button",onClick:()=>u("yes"),className:"goals-button ".concat("yes"===d?"selected":"")},"Yes"),i.a.createElement("button",{type:"button",onClick:()=>u("no"),className:"goals-button ".concat("no"===d?"selected":"")},"No")),"yes"===d&&i.a.createElement("div",null,i.a.createElement("h3",null,"How do you want the fragrance to make you feel?"),["Fresh","Relaxing","Invigorated","Pampered","Focused","Beautiful","Confident","Rejuvenated","Empowered"].map((e,t)=>i.a.createElement("button",{key:t,type:"button",onClick:()=>(e=>{const t=p.includes(e)?p.filter(t=>t!==e):[...p,e];m(t)})(e),className:"goals-button ".concat(b(e)?"selected":"")},e))),i.a.createElement("button",{type:"submit",disabled:0===o.length||"yes"===d&&0===p.length},"Next")))};a(17);var d=function(e){let{setProductData:t}=e;const a=Object(l.o)(),[r,s]=Object(n.useState)("");return i.a.createElement("div",{className:"product-container"},i.a.createElement("h2",null,"Select a Skincare Product"),i.a.createElement("form",{onSubmit:e=>{e.preventDefault(),t(r),a("/summary")}},Object.entries({lotion:"A lightweight moisturizer, often used for normal to oily skin, providing hydration without being too heavy.",cream:"Thicker than lotion, creams are ideal for dry skin as they provide more intensive moisturization.",butter:"Even thicker than creams, butters are used for very dry skin areas, providing deep nourishment and hydration.",balm:"A dense, oil-based product, balms are used for intense healing and protection, often in specific areas.",faceOil:"Provides intensive hydration and nourishment, especially beneficial for dry or mature skin.",cleanser:"Used to remove dirt, oil, and makeup from the skin. It helps in keeping the pores clear and the skin clean."}).map(e=>{let[t,a]=e;return i.a.createElement("div",{key:t},i.a.createElement("button",{type:"button",onClick:()=>(e=>{s(e)})(t),className:r===t?"selected":""},t.charAt(0).toUpperCase()+t.slice(1)),i.a.createElement("p",{className:r===t?"selected":""},a))}),i.a.createElement("button",{className:"submit",type:"submit",disabled:!r},"Next")))};var u={"Sunflower oil":{phase:"oil",hlb:0,description:"Lightweight, non-comedogenic oil, suitable for sensitive skin."},"Jojoba Oil":{phase:"oil",hlb:0,description:"Mimics natural skin oils, balances skin's sebum production."},"Argan oil":{phase:"oil",hlb:11,description:"Enhances skin elasticity and hair shine, rich in vitamin E."},"Shea Butter":{phase:"oil",hlb:8,description:"Moisturizes deeply, reduces inflammation, and is rich in vitamins."},"Cocoa butter":{phase:"oil",hlb:8,description:"Nourishes skin, reduces scars, and offers a chocolaty aroma."},"Coconut oil":{phase:"oil",hlb:8,description:"Moisturizes skin and hair, rich in fatty acids and antioxidants."},"Pecan oil":{phase:"oil",hlb:0,description:"Rich in antioxidants, moisturizes skin, and promotes hair health."},"Pumpkin seed oil":{phase:"oil",hlb:0,description:"Improves skin tone, fights acne, and soothes sensitive skin."},"Benne seed oil":{phase:"oil",hlb:0,description:"Rich in linoleic acid, nourishes skin and strengthens hair."},"Okra seed oil":{phase:"oil",hlb:0,description:"Promotes a healthy scalp and is rich in unsaturated fats. (comedogenic rating estimated)"},"Olive oil":{phase:"oil",hlb:0,description:"Moisturizes skin, rich in vitamins, and promotes hair health."},"Almond Oil":{phase:"oil",hlb:0,description:"Gentle on skin, rich in vitamin E, and excellent for dry skin."},"Distilled water":{phase:"aqueous",hlb:20,description:"Hydrates and serves as a base for water-soluble ingredients."},"Green tea":{phase:"aqueous",hlb:20,description:"Rich in antioxidants, reduces inflammation, and promotes skin healing."},"Sea Salt":{phase:"aqueous",hlb:20,description:"Sea salt, rich in minerals like magnesium, calcium, and potassium, is known for its exfoliating and detoxifying properties. It helps to cleanse pores deeply, balance oil production, and thwart bacteria that can instigate breakouts and acne. Its gentle abrasive texture aids in removing dead skin cells, promoting rejuvenated and smoother skin. Ideal for use in scrubs and bath soaks, sea salt can also help to relieve sore muscles and reduce inflammation when used in bath products."},"Aloe Vera Gel":{phase:"aqueous",hlb:20,description:"Soothes skin irritations, hydrates, and has healing properties."},Glycerin:{phase:"aqueous",hlb:20,description:"A humectant that draws moisture into the skin, suitable for all skin types."},Honey:{phase:"aqueous",hlb:20,description:"Natural humectant, known for its soothing and antibacterial properties."},"Apple Cider Vinegar":{phase:"aqueous",hlb:20,description:"Balances skin's pH, has natural astringent properties, and can help clear skin."},"Cucumber Juice":{phase:"aqueous",hlb:20,description:"Rich in vitamins and minerals, hydrating, and soothing for the skin."},"Oat Milk":{phase:"aqueous",hlb:20,description:"Contains lipids and water-absorbing substances, providing moisturizing and soothing benefits."},Beeswax:{phase:"emulsifier",hlb:12,description:"Natural stabilizer, thickens formulas and creates protective barrier on skin."},Lecithin:{phase:"emulsifier",hlb:8,description:"Natural stabilizer, thickens formulas and creates protective barrier on skin. (not sure about this viscosity value)"},"Cetearyl Alcohol":{phase:"emulsifier",hlb:16,description:"This is a waxy fatty alcohol derived from natural sources like coconut and palm oils. It's used not only as an emulsifier but also as a thickener and stabilizer in creams and lotions."},"Zinc Oxide":{phase:"additive",hlb:0,max_percent:25,default_percent:10,description:"Adds SPF"},"Hyaluronic Acid":{phase:"additive",hlb:20,max_percent:2,default_percent:.5,description:"A powerful humectant, helps to hydrate and plump the skin by retaining moisture, making it a vital ingredient for maintaining a youthful, radiant complexion."},Retinol:{phase:"additive",hlb:0,max_percent:1,default_percent:.25,description:"A derivative of Vitamin A, is renowned for its anti-aging properties, as it boosts collagen production, accelerates skin renewal, and helps to reduce the appearance of fine lines, wrinkles, and uneven skin tone."},"Vitamin C":{phase:"additive",hlb:20,max_percent:20,default_percent:5,description:"A potent antioxidant that helps to reduce skin inflammation, irregular pigmentation, and promotes healthy collagen production."},"Vitamin E":{phase:"additive",hlb:0,max_percent:1,default_percent:.5,description:"A powerful antioxidant that may be effective at reducing UV damage in skin. And vitamin E applied topically may help nourish and protect your skin from damage caused by free radicals."},"Niacinamide (Vitamin B3)":{phase:"additive",hlb:20,max_percent:5,default_percent:2,description:"Niacinamide is a water-soluble vitamin that works with the natural substances in your skin to help visibly improve the appearance of enlarged pores, uneven skin tone, fine lines and wrinkles, dullness, and a weakened surface."},"Lavender Oil":{phase:"additive",hlb:0,max_percent:1,default_percent:.5,description:"Lavender oil is known for its calming and relaxing properties and can be used to soothe irritated skin."},"Rosemary Oil":{phase:"additive",hlb:0,max_percent:2,default_percent:1,description:"Rosemary oil is reputed to rejuvenate skin, improve hair growth and scalp health, and has antioxidant properties."},"Tea Tree Oil":{phase:"additive",hlb:0,max_percent:2,default_percent:1,description:"Tea tree oil is known for its anti-inflammatory and antimicrobial properties, making it a popular choice for treating acne."},"Jasmine Oil":{phase:"additive",hlb:0,max_percent:1,default_percent:.5,description:"Jasmine oil is valued for its soothing, moisturizing properties and a rich, floral fragrance."},"Eucalyptus Oil":{phase:"additive",hlb:0,max_percent:2,default_percent:1,description:"Eucalyptus oil has a refreshing scent and is known for its antibacterial, anti-inflammatory properties."},"Cedarwood Oil":{phase:"additive",hlb:0,max_percent:1,default_percent:.5,description:"Cedarwood oil is used for its soothing effect on the skin and its woodsy, warm fragrance."},"Noble Fir Oil":{phase:"additive",hlb:0,max_percent:1,default_percent:.5,description:"Noble Fir oil is known for its crisp, clean fragrance and can help to refresh and invigorate the skin."},"Ponderosa Pine Oil":{phase:"additive",hlb:0,max_percent:1,default_percent:.5,description:"Ponderosa Pine oil, with its fresh forest scent, is used for its invigorating properties and potential skin benefits."},Turmeric:{phase:"additive",hlb:0,max_percent:1,default_percent:.5,description:"Turmeric is known for its anti-inflammatory, antimicrobial properties, and ability to improve skin tone and reduce scarring."},Cinnamon:{phase:"additive",hlb:0,max_percent:.5,default_percent:.2,description:"Cinnamon is used for its antimicrobial properties and warming sensation, but should be used with caution as it can be irritating to the skin."},"Black Pepper":{phase:"additive",hlb:0,max_percent:.5,default_percent:.2,description:"Black Pepper is known for its antioxidant properties and stimulating effect, which can enhance blood circulation to the skin."},Nutmeg:{phase:"additive",hlb:0,max_percent:.5,default_percent:.2,description:"Nutmeg, with its anti-inflammatory and antibacterial properties, is used in small amounts to soothe skin and improve its appearance."}};var p=function(e){let{goalsData:t,productData:a,includeFragrance:r,selectedMoods:s}=e;const o=Object(l.o)(),[c,d]=Object(n.useState)(!1);function p(e){let t="";return Object.keys(e).forEach((a,n,i)=>{t+=a,(e[a].hasOwnProperty("default_percent")||e[a].hasOwnProperty("max_percent"))&&(t+=" (",e[a].hasOwnProperty("default_percent")&&(t+="default: ".concat(e[a].default_percent),e[a].hasOwnProperty("max_percent")&&(t+=", ")),e[a].hasOwnProperty("max_percent")&&(t+="max: ".concat(e[a].max_percent)),t+=")"),n<i.length-1&&(t+=", ")}),t}return i.a.createElement("div",null,i.a.createElement("h2",null,"Your Selections"),i.a.createElement("h3",null,"Skincare Goals/Concerns:"),i.a.createElement("ul",null,t.map((e,t)=>i.a.createElement("li",{key:t},e))),i.a.createElement("h3",null,"Selected Skincare Product:"),i.a.createElement("p",null,a),i.a.createElement("h3",null,"Include Fragrance: ",r),"yes"===r&&i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,"Selected Moods:"),i.a.createElement("ul",null,s.map((e,t)=>i.a.createElement("li",{key:t},e)))),c?i.a.createElement("p",null,"Loading..."):i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{onClick:()=>{d(!0);const e=t.join(", "),n=a,i="yes"===r?"Essential oils should be added that will make me feel  ".concat(s.join(" and ")," ."):"It should not have fragrance added.",l={text:"Hello, I am trying to formulate a ".concat(n," for ").concat(e,". ").concat(i," Please suggest a recipe?"),ingredients:p(u)};console.log("Sending OpenAI request: ",l.text,l.ingredients),fetch("https://us-central1-skincare-recipe-tool.cloudfunctions.net/getInitialRecipe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(e=>(console.log(e),e.json())).then(e=>{d(!1),console.log("Success:",e);const t=e.reply.choices[0].message.content,a=JSON.parse(t);console.log(a),o("/recipe-builder",{state:{recipe:a}})}).catch(e=>{d(!1),console.error("Error:",e)})}},"AI Recipe Generation"),i.a.createElement("button",{onClick:()=>{o("/recipe-builder")}},"Build Recipe Manually")))};var m=function(){var e;const[t,a]=Object(n.useState)([]),[r,s]=Object(n.useState)({}),[o,c]=Object(n.useState)("selectIngredients"),[d,p]=Object(n.useState)(""),[m,h]=Object(n.useState)(""),b=Object(l.m)(),f=null===(e=b.state)||void 0===e?void 0:e.recipe;console.log(b.state),console.log("initialRecipe",f);const g=()=>{c("adjustProportions")},k=(e,a)=>{let n=100-Object.keys(r).filter(e=>x(e)).reduce((e,t)=>e+r[t],0);const i=t.filter(e=>!x(e)),o={...r,[e]:a};n-=a;const l=i.filter(t=>t!==e).reduce((e,t)=>e+o[t],0);if(l>0){const t=n/l;i.forEach(a=>{if(a!==e){let e=o[a]*t;o[a]=e<0?0:e}})}else i.forEach(t=>{t!==e&&(o[t]=0)});s(o)},[y,v]=Object(n.useState)({}),E=e=>t.includes(e),x=e=>{const t=u[e];return!!t&&"additive"===t.phase},w=()=>{const e={...r};let t=0;Object.keys(e).forEach(a=>{x(a)||(e[a]=Math.round(e[a])),t+=e[a]});const a=100-t,n=Object.keys(e).filter(e=>!x(e)),i=a/n.length;n.forEach(t=>{e[t]+=i});let o=0;if(n.forEach(t=>{e[t]<0&&(o+=e[t],e[t]=0)}),o<0){const t=n.filter(t=>e[t]>=.01),a=Math.abs(o)/t.length;t.forEach(t=>{e[t]+=a})}const l=Object.values(e).reduce((e,t)=>e+t,0);if(l>100){const t=l-100,a=n.filter(t=>e[t]>0),i=t/a.length;a.forEach(t=>{e[t]-=i})}s(e)},O=()=>{setTimeout(()=>{w()},10)},S={display:"flex",justifyContent:"space-between",padding:"10px",margin:"5px",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer"},_={backgroundColor:"#e0f7fa"},j={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"};Object(n.useEffect)(()=>{const e={};t.forEach(t=>{x(t)?e[t]=1:e[t]=10}),s(a=>Object.keys(a).filter(e=>t.includes(e)).reduce((e,t)=>(e[t]=a[t],e),e))},[t]);const C=Object.values(r).reduce((e,t)=>e+t,0),P={color:Math.abs(C-100)<.01?"black":"red"};return Object(n.useEffect)(()=>{if(console.log("useeffectinitialRecipe",f),f){const e={},t=[];Object.keys(f).forEach(a=>{"commentary"===a?p(f.commentary):"shelfLifeEstimate"===a?h(f.shelfLifeEstimate):u[a]&&(e[a]=f[a],t.push(a))}),console.log("ingredientsfromresponse",e),s(e),a(t),g()}},[f]),i.a.createElement("div",null,"selectIngredients"===o&&i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("div",{style:j},i.a.createElement("h3",null,"Available Ingredients:"),i.a.createElement("button",{onClick:g},"Adjust Proportions"),i.a.createElement("span",null)),Object.entries(u).map(e=>{let[n,o]=e;return i.a.createElement("div",{key:n,style:{...S,...E(n)?_:{}},onClick:()=>(e=>{if(t.includes(e)){a(t.filter(t=>t!==e));const n={...r};delete n[e],s(n)}else a([...t,e]),s({...r,[e]:"additive"===u[e].phase?u[e].default_percent:10})})(n)},i.a.createElement("strong",null,n),i.a.createElement("small",null,o.description))}))),"adjustProportions"===o&&i.a.createElement("div",null,i.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"}},i.a.createElement("button",{onClick:()=>{c("selectIngredients")}},"Back to Ingredients"),i.a.createElement("h3",null,"Proportions:"),i.a.createElement("span",{style:P,onClick:w},C.toFixed(2),"%")),i.a.createElement("table",{style:{width:"95%",borderCollapse:"collapse"}},i.a.createElement("tbody",null,t.map(e=>{var t;return i.a.createElement(i.a.Fragment,{key:e},i.a.createElement("tr",null,i.a.createElement("td",null,e),i.a.createElement("td",null,r[e].toFixed(2),"%")),i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"2"},x(e)?i.a.createElement("div",{style:{position:"relative"}},i.a.createElement("input",{type:"text",value:null!==(t=y[e])&&void 0!==t?t:r[e],onChange:t=>((e,t)=>{v({...y,[e]:t});const a=parseFloat(t),n=u[e].max_percent||100;if(!isNaN(a)&&t.match(/^\d+(\.\d+)?$/)){const t=a>n?n:a,i={...r,[e]:t};s(i),k(e,a)}})(e,t.target.value),onBlur:t=>(e=>{const t=y[e],a=t?parseFloat(t):0,n=u[e].max_percent||100,i=a>n?n:a;if(!isNaN(i)){const t={...r,[e]:i};s(t),k(e,i),a>n&&v({...y,[e]:n})}})(e,t.target.value),style:{width:"100%",borderColor:r[e]===u[e].max_percent?"red":"initial"}}),r[e]===u[e].max_percent&&i.a.createElement("span",{style:{position:"absolute",right:0,top:0,color:"red"}},"Max")):i.a.createElement("input",{type:"range",min:"0",max:"100",step:"0.01",value:r[e],onChange:t=>((e,t)=>{const a=parseFloat(t);k(e,a)})(e,t.target.value),onMouseUp:O,onTouchEnd:O,style:{width:"100%"}}))))}))),d&&i.a.createElement("div",null,i.a.createElement("div",{style:j},i.a.createElement("h3",null,"Commentary:"),i.a.createElement("button",{onClick:()=>{console.log("boop")}},"Get Recipe Advice (Coming Soon!)")),i.a.createElement("p",null,d),i.a.createElement("p",null,"Estimated Shelf Life: ",m))))};a(18);var h=function(){const[e,t]=Object(n.useState)([]),[a,r]=Object(n.useState)("no"),[s,u]=Object(n.useState)([]),[h,b]=Object(n.useState)("");return i.a.createElement(o.a,null,i.a.createElement(l.c,null,i.a.createElement(l.a,{path:"/",element:i.a.createElement("div",{style:{backgroundImage:'url("bgimg.png")',backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center top",textAlign:"center",paddingTop:"10%",height:"1200px",color:"#61685f"}},i.a.createElement("h1",null,"Welcome to the Skincare Formulation App!"),i.a.createElement(o.b,{to:"/goals"},i.a.createElement("button",{className:"startbutton"},"Design Custom ",i.a.createElement("br",null)," Skincare Recipe")))}),i.a.createElement(l.a,{path:"/goals",element:i.a.createElement(c,{setGoalsData:t,setIncludeFragranceApp:e=>{r(e)},setSelectedMoodsApp:e=>{u(e)}})}),i.a.createElement(l.a,{path:"/product",element:i.a.createElement(d,{setProductData:b})}),i.a.createElement(l.a,{path:"/summary",element:i.a.createElement(p,{goalsData:e,productData:h,includeFragrance:a,selectedMoods:s})}),i.a.createElement(l.a,{path:"/recipe-builder",element:i.a.createElement(m,null)})))};var b=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,20)).then(t=>{let{getCLS:a,getFID:n,getFCP:i,getLCP:r,getTTFB:s}=t;a(e),n(e),i(e),r(e),s(e)})};s.a.createRoot(document.getElementById("root")).render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(h,null))),b()}],[[7,1,2]]]);
//# sourceMappingURL=main.6a1390c6.chunk.js.map