{"version":3,"sources":["Form1.js","Form2.js","Summary.js","ingredients.js","RecipeBuilder.js","App.js","reportWebVitals.js","index.js"],"names":["Form1","_ref","setForm1Data","navigate","useNavigate","selectedOptions","setSelectedOptions","useState","isOptionSelected","option","includes","React","createElement","onSubmit","e","preventDefault","map","goal","index","key","type","onClick","newSelectedOptions","filter","item","toggleOption","className","concat","disabled","length","Form2","setForm2Data","selectedProduct","setSelectedProduct","Object","entries","lotion","cream","butter","balm","faceOil","cleanser","_ref2","description","product","handleSelection","charAt","toUpperCase","slice","class","Summary","form1Data","form2Data","loading","setLoading","Fragment","handleAIClick","goals","join","data","text","console","log","fetch","method","headers","Content-Type","body","JSON","stringify","then","response","json","recipeResponse","reply","choices","message","content","parsedResponse","parse","state","recipe","catch","error","handleManualClick","ingredients","Coconut oil","phase","comedogenic","viscosity","hlb","Argan oil","Sunflower oil","Distilled water","Salt water","Beeswax","Cocoa butter","Pecan oil","Green tea","Pumpkin seed oil","Benne seed oil","Okra seed oil","Olive oil","Aloe Vera Gel","Shea Butter","Jojoba Oil","Glycerin","Almond Oil","Lecithin","Cetearyl Alcohol","Zinc Oxide","max_percent","default_percent","Hyaluronic Acid","Retinol","Vitamin C","Vitamin E","Niacinamide (Vitamin B3)","RecipeBuilder","_location$state","selectedIngredients","setSelectedIngredients","ingredientProportions","setIngredientProportions","currentStep","setCurrentStep","recipeCommentary","setRecipeCommentary","location","useLocation","initialRecipe","goToProportionAdjustment","redistributeProportions","adjustedIngredient","adjustedValue","remainingProportion","keys","name","isAdditive","reduce","acc","nonAdditiveIngredients","newProportions","[object Object]","totalCurrentNonAdditive","scaleFactor","forEach","adjustedProportion","temporaryInputs","setTemporaryInputs","isIngredientSelected","ingredientName","ingredient","handleMouseUp","setTimeout","roundProportions","roundedTotal","Math","round","discrepancy","nonAdditiveKeys","adjustmentPerIngredient","negativeSum","positiveKeys","positiveAdjustment","abs","finalTotal","values","val","excess","excessAdjustment","ingredientRowStyle","display","justifyContent","padding","margin","border","borderRadius","cursor","selectedStyle","backgroundColor","useEffect","prevProportions","totalPercentage","value","totalPercentageStyle","color","ingredientsFromResponse","selectedIngredientsFromResponse","push","style","alignItems","marginBottom","details","handleIngredientSelect","goBackToSelectIngredients","toFixed","width","borderCollapse","_temporaryInputs$name","colSpan","position","onChange","handleAdditiveChange","newValue","parseFloat","maxPercent","isNaN","match","boundedValue","target","onBlur","handleAdditiveBlur","borderColor","right","top","min","max","step","handleSliderChange","onMouseUp","onTouchEnd","App","Router","Routes","Route","path","element","textAlign","marginTop","Link","to","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.0adf72be.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './Form1.css';\r\n\r\nfunction Form1({ setForm1Data }) {\r\n  const navigate = useNavigate();\r\n  const [selectedOptions, setSelectedOptions] = useState([]);\r\n\r\n  const skincareGoals = [\r\n    \"Adult acne\", \"Aging or age spots\", \"Wrinkles\", \"Large pores\", \r\n    \"Puffiness\", \"Redness\", \"Sun Protection\", \"Dry skin\", \r\n    \"Atopic dermatitis\"\r\n  ];\r\n\r\n  const toggleOption = (option) => {\r\n    const newSelectedOptions = selectedOptions.includes(option)\r\n      ? selectedOptions.filter(item => item !== option)\r\n      : [...selectedOptions, option];\r\n\r\n    setSelectedOptions(newSelectedOptions);\r\n  };\r\n\r\n  const isOptionSelected = (option) => {\r\n    return selectedOptions.includes(option);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setForm1Data(selectedOptions); \r\n    // Navigate to the next form\r\n    navigate('/form2'); // Replace '/form2' with the path of your next form\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Select Your Skincare Goals/Concerns</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        {skincareGoals.map((goal, index) => (\r\n            <button\r\n                key={index}\r\n                type=\"button\"\r\n                onClick={() => toggleOption(goal)}\r\n                className={`form1-button ${isOptionSelected(goal) ? 'selected' : ''}`}\r\n            >\r\n                {goal}\r\n            </button>\r\n        ))}\r\n        <button type=\"submit\" disabled={selectedOptions.length === 0}>Next</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Form1;\r\n","import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './Form2.css';\r\n\r\nfunction Form2({ setForm2Data }) {\r\n    const navigate = useNavigate();\r\n    const [selectedProduct, setSelectedProduct] = useState('');\r\n\r\n    const skincareProducts = {\r\n\r\n        //toner: \"Applied after cleansing, toner helps to remove any remaining impurities and balances the pH of the skin.\",\r\n        //serum: \"Highly concentrated with active ingredients, serums target specific skin concerns such as aging, hydration, or brightening.\",\r\n        //moisturizer: \"Hydrates the skin and locks in moisture. It can come in various forms like lotions, creams, and gels.\",\r\n        //sunscreen: \"Protects the skin from harmful UV rays. It's essential for preventing sun damage, aging, and skin cancer.\",\r\n        // exfoliant: \"Removes dead skin cells from the surface of the skin, promoting a smoother and clearer complexion.\",\r\n        //eyeCream: \"Specifically formulated for the delicate eye area, it targets concerns like dark circles, puffiness, and wrinkles.\",\r\n        //mask: \"Used occasionally to address specific skin concerns. Masks can hydrate, detoxify, or provide anti-aging benefits.\",\r\n        lotion: \"A lightweight moisturizer, often used for normal to oily skin, providing hydration without being too heavy.\",\r\n        cream: \"Thicker than lotion, creams are ideal for dry skin as they provide more intensive moisturization.\",\r\n        butter: \"Even thicker than creams, butters are used for very dry skin areas, providing deep nourishment and hydration.\",\r\n        balm: \"A dense, oil-based product, balms are used for intense healing and protection, often in specific areas.\",\r\n        faceOil: \"Provides intensive hydration and nourishment, especially beneficial for dry or mature skin.\",\r\n        cleanser: \"Used to remove dirt, oil, and makeup from the skin. It helps in keeping the pores clear and the skin clean.\",\r\n    };\r\n\r\n    const handleSelection = (product) => {\r\n        setSelectedProduct(product);\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        setForm2Data(selectedProduct); \r\n        // Navigate to the next form or a summary page\r\n        navigate('/summary'); // Replace '/summary' with the path of your next step\r\n    };\r\n\r\n    return (\r\n        <div className=\"form2-container\">\r\n            <h2>Select a Skincare Product</h2>\r\n            <form onSubmit={handleSubmit}>\r\n                {Object.entries(skincareProducts).map(([key, description]) => (\r\n                    <div key={key}>\r\n                        <button type=\"button\" onClick={() => handleSelection(key)}\r\n                            className={selectedProduct === key ? 'selected' : ''}>\r\n                            {key.charAt(0).toUpperCase() + key.slice(1)}\r\n                        </button>\r\n                        <p className={selectedProduct === key ? 'selected' : ''}>\r\n                            {description}\r\n                        </p>\r\n                    </div>\r\n                ))}\r\n                <button class=\"submit\" type=\"submit\" disabled={!selectedProduct}>Next</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Form2;\r\n","import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Summary({ form1Data, form2Data }) {\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleAIClick = () => {\r\n    setLoading(true);\r\n    const endpoint = 'https://us-central1-skincare-recipe-tool.cloudfunctions.net/getInitialRecipe';\r\n    const goals = form1Data.join(', ');\r\n    const productType = form2Data;\r\n\r\n    const data = {\r\n        text: `Hello, I am trying to formulate a ${productType} for ${goals}. Please suggest a recipe?`,\r\n    };\r\n\r\n    console.log('Sending OpenAI request: ', data.text);\r\n\r\n    fetch(endpoint, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(data)\r\n    })\r\n    .then(response => {\r\n      console.log(response);\r\n      return response.json();\r\n    })\r\n    .then(data => {\r\n        setLoading(false);\r\n        console.log('Success:', data);\r\n        const recipeResponse = data.reply.choices[0].message.content;\r\n        const parsedResponse = JSON.parse(recipeResponse);\r\n        console.log(parsedResponse);\r\n        navigate('/recipe-builder', { state: { recipe: parsedResponse } });\r\n    })\r\n    .catch((error) => {\r\n        setLoading(false);\r\n        console.error('Error:', error);\r\n        // Handle error state here, e.g., display an error message\r\n    });\r\n  };\r\n\r\n  const handleManualClick = () => {\r\n    navigate('/recipe-builder'); // Replace with your actual route\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Your Selections</h2>\r\n      <h3>Skincare Goals/Concerns:</h3>\r\n      <ul>\r\n        {form1Data.map((item, index) => (\r\n          <li key={index}>{item}</li>\r\n        ))}\r\n      </ul>\r\n\r\n      <h3>Selected Skincare Product:</h3>\r\n      <p>{form2Data}</p>\r\n\r\n      {loading ? (\r\n        <p>Loading...</p> // Placeholder for loading spinner\r\n      ) : (\r\n        <>\r\n          <button onClick={handleAIClick}>AI Recipe Generation</button>\r\n          <button onClick={handleManualClick}>Build Recipe Manually</button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Summary;\r\n","const ingredients = {\r\n    \"Coconut oil\": {\r\n        phase: \"oil\",\r\n        comedogenic: 4,\r\n        viscosity: 5,\r\n        hlb: 8,\r\n        description: \"Moisturizes skin and hair, rich in fatty acids and antioxidants.\"\r\n    },\r\n    \"Argan oil\": {\r\n        phase: \"oil\",\r\n        comedogenic: 0,\r\n        viscosity: 3,\r\n        hlb: 11,\r\n        description: \"Enhances skin elasticity and hair shine, rich in vitamin E.\"\r\n    },\r\n    \"Sunflower oil\": {\r\n        phase: \"oil\",\r\n        comedogenic: 2,\r\n        viscosity: 3,\r\n        hlb: 0,\r\n        description: \"Lightweight, non-comedogenic oil, suitable for sensitive skin.\"\r\n    },\r\n    \"Distilled water\": {\r\n        phase: \"aqueous\",\r\n        comedogenic: 0,\r\n        viscosity: 1,\r\n        hlb: 20,\r\n        description: \"Hydrates and serves as a base for water-soluble ingredients.\"\r\n    },\r\n    \"Salt water\": {\r\n        phase: \"aqueous\",\r\n        comedogenic: 0,\r\n        viscosity: 1.5,\r\n        hlb: 20,\r\n        description: \"Research is mixed. Some sources suggest that salt water might have beneficial effects on the skin, including potential antimicrobial properties and the ability to dry out pimples. Salt water could also irritate sensitive skin or exacerbate conditions like eczema or dermatitis.\"\r\n    },\r\n    \"Beeswax\": {\r\n        phase: \"emulsifier\",\r\n        comedogenic: 2,\r\n        viscosity: 10,\r\n        hlb: 12,\r\n        description: \"Natural stabilizer, thickens formulas and creates protective barrier on skin.\"\r\n    },\r\n    \"Cocoa butter\": {\r\n        phase: \"oil\",\r\n        comedogenic: 4,\r\n        viscosity: 8,\r\n        hlb: 8,\r\n        description: \"Nourishes skin, reduces scars, and offers a chocolaty aroma.\"\r\n    },\r\n    \"Pecan oil\": {\r\n        phase: \"oil\",\r\n        comedogenic: 2,\r\n        viscosity: 4,\r\n        hlb: 0,\r\n        description: \"Rich in antioxidants, moisturizes skin, and promotes hair health.\"\r\n    },\r\n    \"Green tea\": {\r\n        phase: \"aqueous\",\r\n        comedogenic: 0,\r\n        viscosity: 1,\r\n        hlb: 20,\r\n        description: \"Rich in antioxidants, reduces inflammation, and promotes skin healing.\"\r\n    },\r\n    \"Pumpkin seed oil\": {\r\n        phase: \"oil\",\r\n        comedogenic: 2,\r\n        viscosity: 4,\r\n        hlb: 0,\r\n        description: \"Improves skin tone, fights acne, and soothes sensitive skin.\"\r\n    },\r\n    \"Benne seed oil\": {\r\n        phase: \"oil\",\r\n        comedogenic: 3,\r\n        viscosity: 4,\r\n        hlb: 0,\r\n        description: \"Rich in linoleic acid, nourishes skin and strengthens hair.\"\r\n    },\r\n    \"Okra seed oil\": {\r\n        phase: \"oil\",\r\n        comedogenic: 2,\r\n        viscosity: 3,\r\n        hlb: 0,\r\n        description: \"Promotes a healthy scalp and is rich in unsaturated fats. (comedogenic rating estimated)\"\r\n    },\r\n    \"Olive oil\": {\r\n        phase: \"oil\",\r\n        comedogenic: 2,\r\n        viscosity: 4,\r\n        hlb: 0,\r\n        description: \"Moisturizes skin, rich in vitamins, and promotes hair health.\"\r\n    },\r\n    \"Aloe Vera Gel\": {\r\n        phase: \"aqueous\",\r\n        comedogenic: 0,\r\n        viscosity: 2,\r\n        hlb: 20,\r\n        description: \"Soothes skin irritations, hydrates, and has healing properties.\"\r\n    },\r\n    \"Shea Butter\": {\r\n        phase: \"oil\",\r\n        comedogenic: 0,\r\n        viscosity: 6,\r\n        hlb: 8,\r\n        description: \"Moisturizes deeply, reduces inflammation, and is rich in vitamins.\"\r\n    },\r\n    \"Jojoba Oil\": {\r\n        phase: \"oil\",\r\n        comedogenic: 2,\r\n        viscosity: 2,\r\n        hlb: 0,\r\n        description: \"Mimics natural skin oils, balances skin's sebum production.\"\r\n    },\r\n    \"Glycerin\": {\r\n        phase: \"aqueous\",\r\n        comedogenic: 0,\r\n        viscosity: 2,\r\n        hlb: 20,\r\n        description: \"A humectant that draws moisture into the skin, suitable for all skin types.\"\r\n    },\r\n    \"Almond Oil\": {\r\n        phase: \"oil\",\r\n        comedogenic: 2,\r\n        viscosity: 3,\r\n        hlb: 0,\r\n        description: \"Gentle on skin, rich in vitamin E, and excellent for dry skin.\"\r\n    },\r\n    \"Lecithin\": {\r\n        phase: \"emulsifier\",\r\n        comedogenic: 0,\r\n        viscosity: 5,\r\n        hlb: 8,\r\n        description: \"Natural stabilizer, thickens formulas and creates protective barrier on skin. (not sure about this viscosity value)\"\r\n    },\r\n    \"Cetearyl Alcohol\": {\r\n        phase: \"emulsifier\",\r\n        comedogenic: 0,\r\n        viscosity: 8,\r\n        hlb: 16,\r\n        description: \"This is a waxy fatty alcohol derived from natural sources like coconut and palm oils. It's used not only as an emulsifier but also as a thickener and stabilizer in creams and lotions.\"\r\n    },\r\n    \"Zinc Oxide\": {\r\n        phase: \"additive\",\r\n        comedogenic: 0,\r\n        viscosity: 5,\r\n        hlb: 0,\r\n        max_percent: 25,\r\n        default_percent: 10,\r\n        description: \"Adds SPF\"\r\n    },\r\n    \"Hyaluronic Acid\": {\r\n        phase: \"additive\",\r\n        comedogenic: 0,\r\n        viscosity: 8,\r\n        hlb: 20,\r\n        max_percent: 2,\r\n        default_percent: 0.5,\r\n        description: \"A powerful humectant, helps to hydrate and plump the skin by retaining moisture, making it a vital ingredient for maintaining a youthful, radiant complexion.\"\r\n    },\r\n    \"Retinol\": {\r\n        phase: \"additive\",\r\n        comedogenic: 0,\r\n        viscosity: 0,\r\n        hlb: 0,\r\n        max_percent: 1,\r\n        default_percent: 0.25,\r\n        description: \"A derivative of Vitamin A, is renowned for its anti-aging properties, as it boosts collagen production, accelerates skin renewal, and helps to reduce the appearance of fine lines, wrinkles, and uneven skin tone.\"\r\n    },\r\n    \"Vitamin C\": {\r\n        phase: \"additive\",\r\n        comedogenic: 0,\r\n        viscosity: 0,\r\n        hlb: 20,\r\n        max_percent: 20,\r\n        default_percent: 5,\r\n        description: \"A potent antioxidant that helps to reduce skin inflammation, irregular pigmentation, and promotes healthy collagen production.\"\r\n    },\r\n    \"Vitamin E\": {\r\n        phase: \"additive\",\r\n        comedogenic: 0,\r\n        viscosity: 0,\r\n        hlb: 0,\r\n        max_percent: 1,\r\n        default_percent: 0.5,\r\n        description: \"A powerful antioxidant that may be effective at reducing UV damage in skin. And vitamin E applied topically may help nourish and protect your skin from damage caused by free radicals.\"\r\n    },\r\n    \"Niacinamide (Vitamin B3)\": {\r\n        phase: \"additive\",\r\n        comedogenic: 0,\r\n        viscosity: 0,\r\n        hlb: 20,\r\n        max_percent: 5,\r\n        default_percent: 2,\r\n        description: \"Niacinamide is a water-soluble vitamin that works with the natural substances in your skin to help visibly improve the appearance of enlarged pores, uneven skin tone, fine lines and wrinkles, dullness, and a weakened surface.\"\r\n    },\r\n};\r\n  \r\n  export default ingredients;\r\n  ","import React, { useState, useEffect } from 'react';\r\nimport ingredients from './ingredients';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\nfunction RecipeBuilder() {\r\n    const [selectedIngredients, setSelectedIngredients] = useState([]);\r\n    const [ingredientProportions, setIngredientProportions] = useState({});\r\n    const [currentStep, setCurrentStep] = useState('selectIngredients');\r\n    const [recipeCommentary, setRecipeCommentary] = useState('');\r\n    \r\n    const location = useLocation();\r\n    const initialRecipe = location.state?.recipe;\r\n    console.log(location.state);\r\n\r\n    console.log(\"initialRecipe\", initialRecipe);\r\n\r\n\r\n\r\n    // Function to move to the proportion adjustment step\r\n    const goToProportionAdjustment = () => {\r\n        setCurrentStep('adjustProportions');\r\n    };\r\n\r\n    // Function to go back to ingredient selection\r\n    const goBackToSelectIngredients = () => {\r\n        setCurrentStep('selectIngredients');\r\n    };\r\n\r\n    const handleIngredientSelect = (ingredientName) => {\r\n        if (selectedIngredients.includes(ingredientName)) {\r\n            setSelectedIngredients(selectedIngredients.filter(name => name !== ingredientName));\r\n            const newProportions = { ...ingredientProportions };\r\n            delete newProportions[ingredientName];\r\n            setIngredientProportions(newProportions);\r\n        } else {\r\n            setSelectedIngredients([...selectedIngredients, ingredientName]);\r\n            setIngredientProportions({ ...ingredientProportions, [ingredientName]: ingredients[ingredientName].phase === \"additive\" ? ingredients[ingredientName].default_percent : 10 });\r\n        }\r\n    };\r\n\r\n    const redistributeProportions = (adjustedIngredient, adjustedValue) => {\r\n        const totalAdditiveProportion = Object.keys(ingredientProportions)\r\n            .filter(name => isAdditive(name))\r\n            .reduce((acc, name) => acc + ingredientProportions[name], 0);\r\n\r\n        let remainingProportion = 100 - totalAdditiveProportion;\r\n        const nonAdditiveIngredients = selectedIngredients.filter(name => !isAdditive(name));\r\n\r\n        // First, set the adjusted ingredient's value and subtract it from the remaining proportion\r\n        const newProportions = { ...ingredientProportions, [adjustedIngredient]: adjustedValue };\r\n        remainingProportion -= adjustedValue;\r\n\r\n        // Then, distribute the remaining proportion among the other non-additive ingredients\r\n        const totalCurrentNonAdditive = nonAdditiveIngredients\r\n            .filter(name => name !== adjustedIngredient)\r\n            .reduce((acc, name) => acc + newProportions[name], 0);\r\n\r\n        // Prevent negative values during redistribution\r\n        if (totalCurrentNonAdditive > 0) {\r\n            const scaleFactor = remainingProportion / totalCurrentNonAdditive;\r\n            nonAdditiveIngredients.forEach(name => {\r\n                if (name !== adjustedIngredient) {\r\n                    let adjustedProportion = newProportions[name] * scaleFactor;\r\n                    newProportions[name] = adjustedProportion < 0 ? 0 : adjustedProportion;\r\n                }\r\n            });\r\n        } else {\r\n            // If there are no other non-additives, set their proportions to 0\r\n            nonAdditiveIngredients.forEach(name => {\r\n                if (name !== adjustedIngredient) {\r\n                    newProportions[name] = 0;\r\n                }\r\n            });\r\n        }\r\n\r\n        setIngredientProportions(newProportions);\r\n    };\r\n\r\n\r\n\r\n\r\n    const handleSliderChange = (ingredientName, value) => {\r\n        const newValue = parseFloat(value);\r\n        redistributeProportions(ingredientName, newValue);\r\n    };\r\n    const [temporaryInputs, setTemporaryInputs] = useState({});\r\n\r\n    const handleAdditiveChange = (ingredientName, value) => {\r\n        // Update the temporary input state\r\n        setTemporaryInputs({ ...temporaryInputs, [ingredientName]: value });\r\n        // If the value is a valid complete number, update the proportions immediately\r\n        const newValue = parseFloat(value);\r\n        const maxPercent = ingredients[ingredientName].max_percent || 100; // Default to 100 if not specified\r\n        if (!isNaN(newValue) && value.match(/^\\d+(\\.\\d+)?$/)) {\r\n            const boundedValue = newValue > maxPercent ? maxPercent : newValue;\r\n            const newProportions = { ...ingredientProportions, [ingredientName]: boundedValue };\r\n            setIngredientProportions(newProportions);\r\n            redistributeProportions(ingredientName, newValue);\r\n        }\r\n    };\r\n\r\n    const handleAdditiveBlur = (ingredientName) => {\r\n        const value = temporaryInputs[ingredientName];\r\n        const newValue = value ? parseFloat(value) : 0;\r\n        const maxPercent = ingredients[ingredientName].max_percent || 100; // Default to 100 if not specified\r\n        const boundedValue = newValue > maxPercent ? maxPercent : newValue;\r\n        if (!isNaN(boundedValue)) {\r\n            // Update the real proportions and redistribute\r\n            const newProportions = { ...ingredientProportions, [ingredientName]: boundedValue };\r\n            setIngredientProportions(newProportions);\r\n            redistributeProportions(ingredientName, boundedValue);\r\n            if (newValue > maxPercent) {\r\n                // Update the temporary input state\r\n                setTemporaryInputs({ ...temporaryInputs, [ingredientName]: maxPercent });\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n\r\n    const isIngredientSelected = (ingredientName) => {\r\n        return selectedIngredients.includes(ingredientName);\r\n    };\r\n\r\n    const isAdditive = (ingredientName) => {\r\n        const ingredient = ingredients[ingredientName];\r\n        return ingredient ? ingredient.phase === \"additive\" : false;\r\n    };\r\n\r\n    const roundProportions = () => {\r\n        const newProportions = { ...ingredientProportions };\r\n        let roundedTotal = 0;\r\n\r\n        // Round each non-additive proportion\r\n        Object.keys(newProportions).forEach(key => {\r\n            if (!isAdditive(key)) {\r\n                newProportions[key] = Math.round(newProportions[key]);\r\n            }\r\n            roundedTotal += newProportions[key];\r\n        });\r\n\r\n        // Calculate discrepancy and adjust non-additive proportions\r\n        const discrepancy = 100 - roundedTotal;\r\n        const nonAdditiveKeys = Object.keys(newProportions).filter(key => !isAdditive(key));\r\n        const adjustmentPerIngredient = discrepancy / nonAdditiveKeys.length;\r\n\r\n        nonAdditiveKeys.forEach(key => {\r\n            newProportions[key] += adjustmentPerIngredient;\r\n        });\r\n\r\n        // Handle negative proportions\r\n        let negativeSum = 0;\r\n        nonAdditiveKeys.forEach(key => {\r\n            if (newProportions[key] < 0) {\r\n                negativeSum += newProportions[key];\r\n                newProportions[key] = 0;\r\n            }\r\n        });\r\n\r\n        // Redistribute the negative sum among positive non-additive ingredients\r\n        if (negativeSum < 0) {\r\n            const positiveKeys = nonAdditiveKeys.filter(key => newProportions[key] >= 0.01);\r\n            const positiveAdjustment = Math.abs(negativeSum) / positiveKeys.length;\r\n\r\n            positiveKeys.forEach(key => {\r\n                newProportions[key] += positiveAdjustment;\r\n            });\r\n        }\r\n\r\n        // Final check if total exceeds 100%\r\n        const finalTotal = Object.values(newProportions).reduce((acc, val) => acc + val, 0);\r\n        if (finalTotal > 100) {\r\n            const excess = finalTotal - 100;\r\n            const positiveKeys = nonAdditiveKeys.filter(key => newProportions[key] > 0);\r\n            const excessAdjustment = excess / positiveKeys.length;\r\n\r\n            positiveKeys.forEach(key => {\r\n                newProportions[key] -= excessAdjustment;\r\n            });\r\n        }\r\n\r\n        setIngredientProportions(newProportions);\r\n    };\r\n\r\n    const handleMouseUp = () => {\r\n        setTimeout(() => {\r\n            roundProportions();\r\n        }, 10); // Delay of 100 milliseconds\r\n    };\r\n\r\n    const calculateTotalPercentage = () => {\r\n        return Object.values(ingredientProportions).reduce((acc, value) => acc + value, 0);\r\n    };\r\n\r\n\r\n    const ingredientRowStyle = {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        padding: '10px',\r\n        margin: '5px',\r\n        border: '1px solid #ddd',\r\n        borderRadius: '4px',\r\n        cursor: 'pointer',\r\n    };\r\n\r\n    const selectedStyle = {\r\n        backgroundColor: '#e0f7fa',\r\n    };\r\n\r\n    const tableStyle = {\r\n        width: '95%', // Ensure the table takes full width\r\n        borderCollapse: 'collapse',\r\n    };\r\n\r\n    const headerStyle = {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        marginBottom: '10px',\r\n    };\r\n\r\n    const headerWithButtonStyle = {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        marginBottom: '10px',\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        const newProportions = {};\r\n\r\n        // Set initial proportions for selected ingredients\r\n        selectedIngredients.forEach(ingredient => {\r\n            if (isAdditive(ingredient)) {\r\n                newProportions[ingredient] = 1; // Set initial value for additive\r\n            } else {\r\n                newProportions[ingredient] = 10; // Set initial value for non-additive\r\n            }\r\n        });\r\n\r\n        setIngredientProportions(prevProportions => {\r\n            // Retain the proportions of ingredients that are still selected\r\n            return Object.keys(prevProportions)\r\n                .filter(key => selectedIngredients.includes(key))\r\n                .reduce((acc, key) => {\r\n                    acc[key] = prevProportions[key];\r\n                    return acc;\r\n                }, newProportions);\r\n        });\r\n    }, [selectedIngredients]);\r\n\r\n    const totalPercentage = calculateTotalPercentage();\r\n    const totalPercentageStyle = {\r\n        color: Math.abs(totalPercentage - 100) < 0.01 ? 'black' : 'red',\r\n    };\r\n    \r\n    useEffect(() => {\r\n        if (initialRecipe) {\r\n            const ingredientsFromResponse = {};\r\n            const selectedIngredientsFromResponse = [];\r\n    \r\n            Object.keys(initialRecipe).forEach(key => {\r\n                if (key !== \"commentary\" && ingredients[key]) {\r\n                    ingredientsFromResponse[key] = initialRecipe[key];\r\n                    selectedIngredientsFromResponse.push(key);\r\n                } else if (key === \"commentary\") {\r\n                    setRecipeCommentary(initialRecipe[key]);\r\n                }\r\n            });\r\n    \r\n            setIngredientProportions(ingredientsFromResponse);\r\n            setSelectedIngredients(selectedIngredientsFromResponse);\r\n\r\n            goToProportionAdjustment();\r\n        }\r\n    }, [initialRecipe]);\r\n\r\n    return (\r\n        <div>\r\n            {currentStep === 'selectIngredients' && (\r\n                <div>\r\n                    <div>\r\n                        <div style={headerWithButtonStyle}>\r\n                            <h3>Available Ingredients:</h3>\r\n                            <button onClick={goToProportionAdjustment}>Adjust Proportions</button>\r\n                            <span></span>\r\n                        </div>\r\n                        {Object.entries(ingredients).map(([name, details]) => (\r\n                            <div\r\n                                key={name}\r\n                                style={{ ...ingredientRowStyle, ...(isIngredientSelected(name) ? selectedStyle : {}) }}\r\n                                onClick={() => handleIngredientSelect(name)}\r\n                            >\r\n                                <strong>{name}</strong>\r\n                                <small>{details.description}</small>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n            {currentStep === 'adjustProportions' && (\r\n                <div>\r\n\r\n                    <div style={headerStyle}>\r\n                        <button onClick={goBackToSelectIngredients}>Back to Ingredients</button>\r\n                        <h3>Proportions:</h3>\r\n                        <span style={totalPercentageStyle}>{totalPercentage.toFixed(2)}%</span>\r\n                    </div>\r\n                    <table style={tableStyle}>\r\n                        <tbody>\r\n                            {selectedIngredients.map(name => (\r\n                                <React.Fragment key={name}>\r\n                                    <tr>\r\n                                        <td>{name}</td>\r\n                                        <td>{ingredientProportions[name].toFixed(2)}%</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td colSpan=\"2\">\r\n                                            {isAdditive(name) ? (\r\n                                                <div style={{ position: 'relative' }}>\r\n                                                    <input\r\n                                                        type=\"text\"\r\n                                                        value={temporaryInputs[name] ?? ingredientProportions[name]}\r\n                                                        onChange={(e) => handleAdditiveChange(name, e.target.value)}\r\n                                                        onBlur={(e) => handleAdditiveBlur(name, e.target.value)}\r\n                                                        style={{ width: '100%', borderColor: ingredientProportions[name] === ingredients[name].max_percent ? 'red' : 'initial' }}\r\n                                                    />\r\n                                                    {ingredientProportions[name] === ingredients[name].max_percent && (\r\n                                                        <span style={{ position: 'absolute', right: 0, top: 0, color: 'red' }}>Max</span>\r\n                                                    )}\r\n                                                </div>\r\n                                            ) : (\r\n                                                <input\r\n                                                    type=\"range\"\r\n                                                    min=\"0\"\r\n                                                    max=\"100\"\r\n                                                    step=\"0.01\"\r\n                                                    value={ingredientProportions[name]}\r\n                                                    onChange={(e) => handleSliderChange(name, e.target.value)}\r\n                                                    onMouseUp={handleMouseUp}\r\n                                                    onTouchEnd={handleMouseUp}\r\n                                                    style={{ width: '100%' }}\r\n                                                />\r\n                                            )}\r\n                                        </td>\r\n                                    </tr>\r\n                                </React.Fragment>\r\n                            ))}\r\n\r\n                        </tbody>\r\n                    </table>\r\n                    {recipeCommentary && (\r\n                        <div>\r\n                            <h3>Commentary:</h3>\r\n                            <p>{recipeCommentary}</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RecipeBuilder;\r\n","import React, { useState } from 'react';\r\nimport { HashRouter as Router, Routes, Route, Link } from 'react-router-dom';\r\nimport Form1 from './Form1';\r\nimport Form2 from './Form2';\r\nimport Summary from './Summary'; \r\nimport RecipeBuilder from './RecipeBuilder';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [form1Data, setForm1Data] = useState([]);\r\n  const [form2Data, setForm2Data] = useState('');\r\n\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        <Route path=\"/\" element={\r\n          <div style={{ textAlign: 'center', marginTop: '20%' }}>\r\n            <h1>Welcome to the Skincare Formulation App!</h1>\r\n            <Link to=\"/form1\"><button>Start Form</button></Link>\r\n          </div>\r\n        } />\r\n        <Route path=\"/form1\" element={<Form1 setForm1Data={setForm1Data} />} />\r\n        <Route path=\"/form2\" element={<Form2 setForm2Data={setForm2Data} />} />\r\n        <Route path=\"/summary\" element={<Summary form1Data={form1Data} form2Data={form2Data} />} />\r\n        <Route path=\"/recipe-builder\" element={<RecipeBuilder />} />\r\n      </Routes>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}