(this.webpackJsonpskincare=this.webpackJsonpskincare||[]).push([[0],{10:function(e){e.exports=JSON.parse('[{"section":"Introduction","content":"Thank you trying Skincremental! Your feedback is crucial for us to improve and tailor our products more closely to your needs. Please take a few moments to share your thoughts with us.","type":"text"},{"section":"Product Usage","questions":[{"id":"product_frequency","question":"Roughly how many times have you used the product since you recieved it?","type":"open_text"},{"id":"overall_satisfaction_rating","question":"On a scale of 1-5, how satisfied are you with the products you received?","type":"rating","scale":5}]},{"section":"Product Experience Feedback","questions":[{"id":"can_tell_difference","question":"How easily were you able to tell the difference between the two variations?","type":"choice","options":["Very easily","Somewhat","Not much"]},{"id":"variation_preference","question":"Which product variation did you prefer, A or B?","type":"choice","options":["A","B"]},{"id":"variation_preference_why","question":"Why did you prefer that variation?","type":"open_text","optional":true}]},{"section":"Product Consistency","questions":[{"id":"consistency","question":"What do you think about your product\'s consistency/texture?  ","type":"choice","options":["Too thick","Too thin","Just right"]},{"id":"consistency_issues","question":"Have you noticed any signs of the product splitting or going bad?","type":"choice","options":["Yes","No"]},{"id":"consistency_comments","question":"Please share any thoughts about the product consistency","type":"open_text","optional":true}]},{"section":"AI Effectiveness","questions":[{"id":"ai_effectiveness_rating","question":"On a scale of 1-5, how effectively did our AI understand and address your skin concerns?","type":"rating","scale":5},{"id":"ai_effectiveness_comments","question":"Do you have any specific feedback or suggestions for our AI\'s functionality?  What would you like to see improved?","type":"open_text","optional":true}]},{"section":"Web Interface Feedback","questions":[{"id":"web_interface_improvement","question":"We\'re always looking to improve our website\'s usability. Do you have any suggestions for making our web interface more user-friendly?","type":"open_text"}]},{"section":"Pricing Feedback","questions":[{"id":"expected_price","question":"If we were to charge for our personalized skincare service, what price would you expect to pay for the experience and products you recieved?","type":"open_text"}]},{"section":"Future Orders","questions":[{"id":"repeat_order_interest","question":"Would you be interested in placing another order?","type":"choice","options":["Yes, I\'d like to evolve this recipe","Yes, but I\'d like to try a different recipe","Ask me later","No, I\'m not interested in ordering again"],"shouldAddLineBreak":true}]},{"section":"Next Order Recipe Request","content":"We are still working some kinks out of the AI integration for order variation.  We\'ll be in touch with you soon to build your next recipe.","questions":[{"id":"repeat_order_variation_amount","question":"How much do you want your variation to differ from your current preferred recipe?","type":"choice","options":["Subtle tweak","Moderate change","Significant change"],"shouldAddLineBreak":true},{"id":"repeat_order_interest_comments","question":"What are your goals for the next variations?  What qualities of your formula would you like to improve upon?","type":"open_text","optional":true}]},{"section":"General Comments","questions":[{"id":"z_closing_comments","question":"Is there anything else you\'d like to share about your experience with us?","type":"open_text","optional":true}]},{"section":"Submission","content":"Thank you for your feedback.  If you\'ve selected that you\'re interested in placing another order, we\'ll be in touch with you soon to build your next recipe, or you can build a new recipe from scratch using the homepage at your convenience.","type":"text"}]')},17:function(e,t,n){e.exports=n(26)},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(15),r=n.n(o),s=(n(24),n(25),n(6)),l=n(2),c=n(4),u=n(16);const d=Object(u.a)({apiKey:"AIzaSyD-XWrjMOmhRPjjRz-MOA1ARZN_RVwTcbc",authDomain:"skincare-recipe-tool.firebaseapp.com",projectId:"skincare-recipe-tool",storageBucket:"skincare-recipe-tool.appspot.com",messagingSenderId:"1053752399193",appId:"1:1053752399193:web:caf58158f655ca8e0f2848"}),m=Object(c.e)(d),p=e=>{const t=e+"=",n=document.cookie.split(";");for(let a=0;a<n.length;a++){let e=n[a];for(;" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},g=async()=>{const e=p("sessionId");if(e)try{const t=Object(c.c)(m,"sessions",e);await Object(c.g)(t,{lastDateTime:new Date}),console.log("Session lastDateTime updated in Firestore")}catch(t){console.error("Error updating document: ",t)}else{const e=navigator.userAgent,{innerWidth:n,innerHeight:a}=window;try{const t=await Object(c.a)(Object(c.b)(m,"sessions"),{firstDatetime:new Date,lastDateTime:new Date,userAgent:e,resolution:"".concat(n,"x").concat(a)});console.log("Session info added to Firestore with ID: ",t.id),((e,t)=>{let n="";const a=new Date;a.setTime(a.getTime()+31536e6),n="; expires="+a.toUTCString(),document.cookie=e+"="+(t||"")+n+"; path=/"})("sessionId",t.id)}catch(t){console.error("Error adding document: ",t)}}},h=async e=>{const t=p("sessionId");if(!t)return void console.error("Session ID cookie not found.");const n={...e,lastDateTime:new Date};try{const e=Object(c.c)(m,"sessions",t);await Object(c.g)(e,n),console.log("Session updated successfully")}catch(a){console.error("Error updating session: ",a)}};var y=e=>{let{children:t,title:n,handleSubmit:a,isSubmitDisabled:o,buttonText:r,whyDisabled:s}=e;return r||(r="Next"),s||(s="Please make a selection"),i.a.createElement("div",{className:"layout"},i.a.createElement("div",{className:"body-container"},i.a.createElement("h2",null,n),i.a.createElement("div",{className:"scroller"},t," ")),i.a.createElement("div",{className:"button-footer"},i.a.createElement("button",{className:"footer-submit"+(o?" disabled":""),type:"submit",onClick:a},r),o&&i.a.createElement("p",{className:"why-disabled"},s)))};var f=function(e){let{productData:t,setGoalsData:n,setSelectedMoodsApp:o,setIncludeFragranceApp:r}=e;const s=Object(l.o)(),[c,u]=Object(a.useState)([]),[d,m]=Object(a.useState)("no"),[p,g]=Object(a.useState)([]);var f=[];f="Hair and Scalp Oil"===t?["Dry scalp","Hair growth","Hair shine","Hair strength"]:"Body Moisturizing Cream or Body Butter"===t?["Dry skin","Sensitive Skin","Sun Protection","Calloused Skin","Stretch marks","Eczema","Aging or age spots"]:["Adult acne","Dry skin","Sensitive Skin","Wrinkles","Puffiness","Redness","Sun Protection","Aging or age spots","Large pores","Eczema"],console.log(0===c.length,d,p);const b=e=>p.includes(e);return i.a.createElement(y,{title:"Select Your Skincare Goals/Concerns",isSubmitDisabled:0===c.length||"yes"===d&&0===p.length,handleSubmit:e=>{e.preventDefault();h({selectedOptions:c,includeFragrance:d,selectedMoods:p}).then(()=>{n(c),o(p),r(d),s("/summary")})},buttonText:"Next"},i.a.createElement("form",null,f.map((e,t)=>{return i.a.createElement("button",{key:t,type:"button",onClick:()=>(e=>{const t=c.includes(e)?c.filter(t=>t!==e):[...c,e];u(t)})(e),className:"goals-button ".concat((n=e,c.includes(n)?"selected":""))},e);var n}),i.a.createElement("div",null,i.a.createElement("h3",null,"Include natural fragrances?"),i.a.createElement("button",{type:"button",onClick:()=>m("yes"),className:"goals-button ".concat("yes"===d?"selected":"")},"Yes"),i.a.createElement("button",{type:"button",onClick:()=>m("no"),className:"goals-button ".concat("no"===d?"selected":"")},"No")),"yes"===d&&i.a.createElement("div",null,i.a.createElement("h3",null,"How do you want the fragrance to make you feel?"),["Fresh","Relaxing","Invigorated","Pampered","Focused","Beautiful","Confident","Rejuvenated","Empowered"].map((e,t)=>i.a.createElement("button",{key:t,type:"button",onClick:()=>(e=>{const t=p.includes(e)?p.filter(t=>t!==e):[...p,e];g(t)})(e),className:"goals-button ".concat(b(e)?"selected":"")},e)))))};const b={"Sunflower Oil":{phase:"oil",hlb:0,description:"Moisturizer, rich in Vitamin E, non-comedogenic, suitable for sensitive skin.",good_for:["Sensitive Skin","Dry skin"],bad_for:[],cost:"$20/half gallon",density:.92,cost_per_g:.01148,light_heavy:4,penetrating_occlusive:4,soothing_stimulating:2,gentle_active:5},"Jojoba Oil":{phase:"oil",hlb:0,description:"Moisturizer, mimics natural skin oils, balances sebum production, good for acne-prone skin.",good_for:["Adult acne","Dry skin","Sensitive Skin"],bad_for:[],cost:"$9.99/8oz",density:.87,cost_per_g:.0485,light_heavy:4,penetrating_occlusive:3,soothing_stimulating:2,gentle_active:5},"Argan Oil":{phase:"oil",hlb:11,description:"Rich in antioxidants and Vitamin E, moisturizes, reduces signs of aging, improves skin elasticity and enhances hair shine.",good_for:["Aging or age spots","Dry skin","Wrinkles"],bad_for:[],cost:"$54.99/32oz",density:.91,cost_per_g:.0639,buy_again_url:"https://www.organicpureoil.com/product/pure-1-oz-organic-argan-oil-extra-virgin-unrefined-cold-pressed/",light_heavy:4,penetrating_occlusive:3,soothing_stimulating:3,gentle_active:3},"Shea Butter":{phase:"oil",hlb:8,description:"Moisturizer, rich in fatty acids and vitamins, anti-inflammatory, helps with skin healing.",good_for:["Dry skin","Atopic dermatitis"],bad_for:["Adult acne"],cost:"$9.99/16oz",density:.927,cost_per_g:.0228,light_heavy:7,penetrating_occlusive:7,soothing_stimulating:5,gentle_active:3},"Cocoa Butter":{phase:"oil",hlb:8,description:"Moisturizer, high in fatty acids, helps to hydrate and nourish the skin, reduces the appearance of scars.",good_for:["Dry skin","Wrinkles"],bad_for:["Adult acne"],cost:"$1/oz",cost_per_g:.0338,buy_again_url:"https://simply-ingredients.com/collections/butters-waxes/products/fair-trade-cocoa-butter?variant=37889946484922",light_heavy:8,penetrating_occlusive:8,soothing_stimulating:5,gentle_active:3},"Coconut Oil":{phase:"oil",hlb:8,description:"Moisturizes skin and hair, rich in fatty acids and antioxidants. Can be comedogenic (acne-causing) for some.",good_for:["Dry skin"],bad_for:["Adult acne"],cost:"$6.96/15oz",density:.924,cost_per_g:.017,light_heavy:7,penetrating_occlusive:4,soothing_stimulating:4,gentle_active:4},"Pecan Oil":{phase:"oil",hlb:0,description:"Moisturizer, rich in antioxidants, promotes skin and hair health, hydrating properties.",good_for:["Dry skin"],bad_for:[],cost:"$17/8oz",density:.95,cost_per_g:.0756,light_heavy:6,penetrating_occlusive:5,soothing_stimulating:4,gentle_active:3},"Pumpkin Seed Oil":{phase:"oil",hlb:0,description:"Rich in zinc and vitamins, improves skin tone, fights acne, and soothes sensitive skin.",good_for:["Adult acne","Sensitive Skin"],bad_for:[],cost:"$3/2oz",density:.95,cost_per_g:.0534,light_heavy:5,penetrating_occlusive:4,soothing_stimulating:4,gentle_active:4},"Olive Oil":{phase:"oil",hlb:0,description:"Moisturizer, rich in vitamins and antioxidants, promotes skin and hair health, but can be comedogenic (acne-causing) for some.",good_for:["Dry skin"],bad_for:["Adult acne"],cost:"$18.99/68oz",density:.9,cost_per_g:.0105,light_heavy:6,penetrating_occlusive:5,soothing_stimulating:3,gentle_active:6,nourishing_acnefighting:3},"Distilled Water":{phase:"aqueous",hlb:20,description:"Hydrates and serves as a base for water-soluble ingredients.",good_for:[],bad_for:[],cost_per_g:1e-4,endogenous:!0,light_heavy:1,penetrating_occlusive:1,soothing_stimulating:2,gentle_active:1},"Green Tea":{phase:"aqueous",hlb:20,description:"Antioxidant-rich, reduces inflammation and redness, can protect against environmental stressors and promotes skin healing.",good_for:["Redness","Puffiness","Sensitive Skin"],bad_for:[],cost_per_g:.007,light_heavy:2,penetrating_occlusive:2,soothing_stimulating:3,gentle_active:6},"Aloe Vera Gel":{phase:"aqueous",hlb:20,description:"Soothes skin irritations, hydrates, promotes healing, good for sunburns and inflammation",good_for:["Sensitive Skin","Sun Protection","Redness"],bad_for:[],cost:"9.99/300ml",density:1.2,cost_per_g:.02775,light_heavy:2,penetrating_occlusive:2,soothing_stimulating:1,gentle_active:2},Glycerin:{phase:"aqueous",hlb:20,description:"Humectant, draws moisture into the skin, suitable for all skin types, enhances skin hydration.",good_for:["Dry skin"],bad_for:[],cost:"3.66/4oz",density:1.26,cost_per_g:.0246,endogenous:!0,light_heavy:3,penetrating_occlusive:2,soothing_stimulating:2,gentle_active:3},Honey:{phase:"aqueous",hlb:20,description:"Natural humectant, antibacterial, great for acne treatment and hydration, soothing for the skin.",good_for:["Dry skin","Adult acne"],bad_for:[],light_heavy:6,penetrating_occlusive:3,soothing_stimulating:2,gentle_active:4},"Cucumber Juice":{phase:"aqueous",hlb:20,description:" Hydrating, soothing, rich in vitamins and minerals, good for puffiness and calming irritated skin.",good_for:["Puffiness","Sensitive Skin"],bad_for:[],light_heavy:2,penetrating_occlusive:2,soothing_stimulating:1,gentle_active:2},"Oat Milk":{phase:"aqueous",hlb:20,description:"Contains lipids and water-absorbing substances, providing moisturizing and soothing benefits. Helps in reducing inflammation",good_for:["Dry skin","Sensitive Skin"],bad_for:[],cost_per_g:8e-4,light_heavy:3,penetrating_occlusive:2,soothing_stimulating:1,gentle_active:3},Beeswax:{phase:"emulsifier",hlb:12,description:" Emulsifier and stabilizer in formulations, creates a protective barrier on the skin, retains moisture.",good_for:["Dry skin"],bad_for:[],cost_per_g:.1706,light_heavy:9,penetrating_occlusive:9,soothing_stimulating:3,gentle_active:4},Lecithin:{phase:"emulsifier",hlb:8,description:"Natural stabilizer, thickens formulas and creates protective barrier on skin.",good_for:[],bad_for:[],cost_per_g:.0884,endogenous:!0,light_heavy:6,penetrating_occlusive:5,soothing_stimulating:4,gentle_active:5},"Cetearyl Alcohol":{phase:"emulsifier",hlb:16,description:"A waxy fatty alcohol used as an emulsifier, thickener and stabilizer in creams and lotions. Extracted from Coconut and Palm Kernel oils",good_for:[],bad_for:["Sensitive Skin"],cost_per_g:.0439,light_heavy:7,penetrating_occlusive:6,soothing_stimulating:2,gentle_active:3},"Zinc Oxide":{phase:"additive",hlb:20,max_percent:25,default_percent:10,description:"Sunscreen agent, provides broad-spectrum UV protection, also known for its soothing and astringent properties.",good_for:["Sun Protection"],bad_for:[],cost_per_g:.0958,light_heavy:7,penetrating_occlusive:8,soothing_stimulating:1,gentle_active:2},"Hyaluronic Acid":{phase:"additive",hlb:20,max_percent:2,default_percent:.5,description:"Powerful humectant, helps to hydrate and plump the skin by retaining moisture, reduces the appearance of fine lines and wrinkles.",good_for:["Dry skin","Wrinkles","Aging or age spots"],bad_for:[],cost_per_g:.4639,endogenous:!0,light_heavy:2,penetrating_occlusive:1,soothing_stimulating:1,gentle_active:2},Retinol:{phase:"additive",hlb:0,max_percent:1,default_percent:.1,description:"Retinyl Palmitate is an ester of Retinol (Vitamin A) and Palmitic Acid.  It is a powerful antioxidant that may help boosts collagen in the skin, minimizes fine lines and wrinkles, as well as smooths the texture of the skin. Should be used intermittently until skin aclimates to it. Sun sensitizing, so should only be used at night.",good_for:["Wrinkles","Aging or age spots"],bad_for:["Sensitive Skin"],cost_per_g:.4282,deprecated:!0,light_heavy:4,penetrating_occlusive:3,soothing_stimulating:7,gentle_active:6},"Retinyl Palmitate":{phase:"additive",hlb:0,max_percent:1,default_percent:.1,description:"An ester of Retinol (Vitamin A) and Palmitic Acid, it is the weakest form of Retinol. It is a powerful antioxidant that may help boosts collagen in the skin, minimizes fine lines and wrinkles, as well as smooths the texture of the skin. Should be used intermittently until skin aclimates to it. Sun sensitizing, so should only be used at night.",good_for:["Wrinkles","Aging or age spots"],bad_for:["Sensitive Skin"],cost_per_g:.4282,endogenous:!0,light_heavy:4,penetrating_occlusive:3,soothing_stimulating:9,gentle_active:9},"Vitamin C":{phase:"additive",hlb:20,max_percent:20,default_percent:5,description:"Antioxidant, aids in skin repair and regeneration, can help in reducing pigmentation and promoting collagen production.",good_for:["Aging or age spots","Sun Protection"],bad_for:[],cost_per_g:.0288,endogenous:!0,light_heavy:3,penetrating_occlusive:2,soothing_stimulating:7,gentle_active:7},"Vitamin E":{phase:"additive",hlb:0,max_percent:1,default_percent:.5,description:"Antioxidant, helps in protecting the skin from environmental damage, moisturizes, and heals. Extends shelf life of oils.",good_for:["Sun Protection","Aging or age spots"],bad_for:[],density:.95,cost_per_g:.3505,endogenous:!0,light_heavy:4,penetrating_occlusive:3,soothing_stimulating:3,gentle_active:4},"Niacinamide (Vitamin B3)":{phase:"additive",hlb:20,max_percent:5,default_percent:2,description:"Improves appearance of enlarged pores, uneven skin tone, fine lines. Reduces redness and irritation.",good_for:["Large pores","Wrinkles","Redness"],bad_for:[],cost_per_g:.3567,endogenous:!0,light_heavy:2,penetrating_occlusive:1,soothing_stimulating:6,gentle_active:6},"Lavender Oil":{phase:"additive",hlb:0,max_percent:1,default_percent:.5,description:"Calming and relaxing, and can be used to soothe irritated skin. Anti-inflammatory and antimicrobial properties.",good_for:["Sensitive Skin","Redness"],bad_for:[],density:.885,cost_per_g:1.1578,light_heavy:5,penetrating_occlusive:4,soothing_stimulating:6,gentle_active:5},"Rosemary Oil":{phase:"additive",hlb:0,max_percent:2,default_percent:1,description:"Rejuvenates skin, improves hair growth and scalp health, and has antioxidant properties. Improves circulation and can help with puffiness.",good_for:["Aging or age spots"],bad_for:["Sensitive Skin"],density:.895,cost_per_g:.1214,light_heavy:5,penetrating_occlusive:4,soothing_stimulating:7,gentle_active:6},"Tea Tree Oil":{phase:"additive",hlb:0,max_percent:2,default_percent:1,description:"Antimicrobial and anti-inflammatory, very effective against acne, helps in cleansing the skin.",good_for:["Adult acne"],bad_for:["Dry skin"],density:.878,cost_per_g:.3792,light_heavy:4,penetrating_occlusive:4,soothing_stimulating:8,gentle_active:7},"Jasmine Oil":{phase:"additive",hlb:0,max_percent:1,default_percent:.5,description:"Moisturizes, soothes, often used for its fragrance and hydrating properties.",good_for:["Dry skin"],bad_for:[],density:.947,cost_per_g:2.7434,light_heavy:4,penetrating_occlusive:4,soothing_stimulating:5,gentle_active:5},"Eucalyptus Oil":{phase:"additive",hlb:0,max_percent:2,default_percent:1,description:"Antiseptic and anti-inflammatory properties, good for healing. Refreshing scent.",good_for:["Adult acne"],bad_for:["Sensitive Skin","Dry skin"],densitY:.914,cost_per_g:.153,light_heavy:4,penetrating_occlusive:4,soothing_stimulating:7,gentle_active:6},"Peppermint Oil":{phase:"additive",hlb:0,max_percent:1,default_percent:.5,description:"Cooling sensation and refreshing scent. It has antiseptic and antimicrobial properties. Can help with acne and oily skin, but can be irritating.",good_for:["Adult acne","Puffiness"],bad_for:["Sensitive Skin","Redness"],density:.898,cost_per_g:.0942,light_heavy:4,penetrating_occlusive:4,soothing_stimulating:8,gentle_active:6},"Pine Oil":{phase:"additive",hlb:0,max_percent:1,default_percent:.5,description:"Known for its invigorating and refreshing scent, has antimicrobial and anti-inflammatory properties. It's often used in skincare for its soothing effects on the skin and its ability to help with respiratory issues.",good_for:["Atopic dermatitis","Adult acne"],bad_for:["Sensitive Skin"],cost_per_g:1.155,light_heavy:4,penetrating_occlusive:4,soothing_stimulating:8,gentle_active:7},"Cedar Oil":{phase:"additive",hlb:0,max_percent:1,default_percent:.5,description:"With its woodsy aroma, is known for its calming and grounding effects. It has antiseptic, anti-inflammatory, and astringent properties, making it beneficial for skin conditions like acne and aiding in soothing irritated skin.",good_for:["Adult acne","Atopic dermatitis"],bad_for:["Sensitive Skin"],density:.952,cost_per_g:1.7507,light_heavy:5,penetrating_occlusive:5,soothing_stimulating:7,gentle_active:6},"Rosehip Seed Oil":{phase:"oil",hlb:0,max_percent:10,default_percent:2,description:"Rosehip Seed Oil is rich in essential fatty acids and antioxidants. It's renowned for its skin-regenerative properties, aiding in reducing scars and fine lines. High in vitamins A and C, it helps in evening out skin tone and improving hydration.",good_for:["Wrinkles","Dry skin","Sun Protection","Aging or age spots"],bad_for:[],density:.92,cost_per_g:.6159,light_heavy:3,penetrating_occlusive:3,soothing_stimulating:4,gentle_active:4},"Geranium Oil":{phase:"additive",hlb:0,max_percent:2,default_percent:.5,description:"Geranium Oil, known for its floral scent, is used for its astringent, antiseptic, and anti-inflammatory properties. It helps in balancing sebum production, enhancing skin elasticity, and promoting the healing of scars and spots.",good_for:["Adult acne","Large pores","Wrinkles"],bad_for:["Sensitive Skin"],density:.887,cost_per_g:1.5031,light_heavy:4,penetrating_occlusive:4,soothing_stimulating:6,gentle_active:5},"Carrot Seed Oil":{phase:"additive",hlb:0,max_percent:5,default_percent:1,description:"Carrot Seed Oil is valued for its antioxidant properties and high vitamin A content. It's considered excellent for sun protection, rejuvenating aged skin, and promoting skin healing. Also known for its ability to rejuvenate and regenerate skin tissues.",good_for:["Aging or age spots","Sun Protection","Wrinkles"],bad_for:["Sensitive Skin"],density:.92,cost_per_g:1.5942,light_heavy:5,penetrating_occlusive:4,soothing_stimulating:4,gentle_active:5}},v=e=>Object.keys(b).filter(t=>!k[e].bannedIngredients.includes(t)).filter(e=>!0!==b[e].deprecated).reduce((e,t)=>(e[t]=b[t],e),{});var _=b;const E=()=>{const e=[];return Object.entries(_).forEach(t=>{let[n,a]=t;a.hlb>16&&e.push(n)}),e},k={"Daytime Face Moisturizing Cream with SPF":{description:"An invigorating morning cream that hydrates your skin while providing sun protection with natural zinc oxide, perfect for applying after your morning cleanse to keep your skin soft and shielded throughout the day.",bannedIngredients:["Retinyl Palmitate"],mustIncludeIngredients:["Zinc Oxide"]},"AM/PM Face Moisturizing Cream (No SPF)":{description:"Ideal for night-time nourishment or for daytime use under your preferred sunscreen, design a cream that will deeply moisturizes your skin, leaving it feeling smooth and refreshed",bannedIngredients:["Retinyl Palmitate"],mustIncludeIngredients:[]},"Before Bed Face Moisturizing Cream":{description:"A deeply nourishing cream that will hydrate your skin while you sleep, leaving it feeling soft and refreshed in the morning.",bannedIngredients:[],mustIncludeIngredients:[]},"Body Moisturizing Cream or Body Butter":{description:"Build a deeply hydrading and nourishing to lock in moisture and rejuvenate the skin. Body moisturizers are typically richer and thicker in texture than facial moisturizers, designed to hydrate the less sensitive, more robust skin of the body.",bannedIngredients:[],mustIncludeIngredients:[]},"Face Oil":{description:"Formulate an oil to deeply nourish and rejuvenate your skin, best used in combination with a separate SPF product during the day to ensure full sun protection while maintaining radiant skin.",bannedIngredients:E(),mustIncludeIngredients:[]},"Hair and Scalp Oil":{description:"Formulate a soothing and revitalizing hair and scalp oil to nourish your scalp, strengthen hair roots, and add a healthy shine to your hair.  Use as a pre-shampoo treatment or as a leave-in conditioner.",bannedIngredients:E(),mustIncludeIngredients:[]}};var w=function(e){let{setProductData:t}=e;const n=Object(l.o)(),[o,r]=Object(a.useState)(""),s=E();console.log(s);const c=e=>{e.preventDefault(),t(o),h({selectedProduct:o}).then(()=>{n("/goals")})};return i.a.createElement(y,{title:"Select a Skincare Product Type",handleSubmit:c,isSubmitDisabled:!o,buttonText:"Next"},i.a.createElement("div",{className:"product-container"},i.a.createElement("form",{onSubmit:c},Object.entries(k).map(e=>{let[t,n]=e;return i.a.createElement("div",{key:t},i.a.createElement("button",{type:"button",onClick:()=>{r(t)},className:o===t?"selected":""},t.charAt(0).toUpperCase()+t.slice(1)),i.a.createElement("p",{className:o===t?"selected":""},n.description))}))))};const S=["AI is preparing a recipe for you...","Considering which ingredients will work best for your concerns...","Balancing proportions to ensure proper texture...","Optimizing for your skin type...","Finalizing the perfect skincare formula...","Almost there, just adding the finishing touches..."];var O=function(e){let{goalsData:t,productData:n,includeFragrance:o,selectedMoods:r}=e;const s=Object(l.o)(),[c,u]=Object(a.useState)(!1),[d,m]=Object(a.useState)(S[0]);function p(e){let t="";return Object.keys(e).forEach((n,a,i)=>{t+=n,(e[n].hasOwnProperty("default_percent")||e[n].hasOwnProperty("max_percent"))&&(t+=" (",e[n].hasOwnProperty("default_percent")&&(t+="default: ".concat(e[n].default_percent),e[n].hasOwnProperty("max_percent")&&(t+=", ")),e[n].hasOwnProperty("max_percent")&&(t+="max: ".concat(e[n].max_percent)),t+=")"),a<i.length-1&&(t+=", ")}),t}return Object(a.useEffect)(()=>{if(c){const e=setInterval(()=>{m(e=>{const t=(S.indexOf(e)+1)%S.length;return S[t]})},4e3);return()=>clearInterval(e)}},[c]),i.a.createElement(y,{title:"Your Selections",handleSubmit:()=>{u(!0),m(S[0]);const e=t.join(", "),a=n,i="yes"===o?"Essential oils should be added that will make me feel  ".concat(r.join(" and ")," ."):"It should not have fragrance added.",l={text:"Hello, I am trying to formulate a ".concat(a," for ").concat(e,". ").concat(i," Please suggest a recipe?"),ingredients:p(_)};"Daytime Face Moisturizing Cream with SPF"===n&&(l.text+=" I would like to include Zinc Oxide for SPF in the formulation."),console.log("Sending OpenAI request: ",l.text,l.ingredients),fetch("https://us-central1-skincare-recipe-tool.cloudfunctions.net/getInitialRecipe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(e=>e.json()).then(e=>{u(!1),console.log("Success:",e);const t=e.reply.choices[0].message.content,n=JSON.parse(t);console.log(n),h({aiRecipeResponse:n}).then(()=>{s("/recipe-builder",{state:{recipe:n}})})}).catch(e=>{u(!1),console.error("Error:",e)})},buttonText:"Generate a Formulation with AI",isSubmitDisabled:c,whyDisabled:"Loading..."},i.a.createElement("h3",null,"Selected Skincare Product:"),i.a.createElement("ul",null,i.a.createElement("li",null,n.charAt(0).toUpperCase()+n.slice(1))),i.a.createElement("h3",null,"Skincare Goals/Concerns:"),i.a.createElement("ul",null,t.map((e,t)=>i.a.createElement("li",{key:t},e))),i.a.createElement("h3",null,"Include Fragrance: "),i.a.createElement("ul",null,i.a.createElement("li",null,o.charAt(0).toUpperCase()+o.slice(1))),"yes"===o&&i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,"Selected Moods:"),i.a.createElement("ul",null,r.map((e,t)=>i.a.createElement("li",{key:t},e)))),c?i.a.createElement("div",{className:"loading-container"},i.a.createElement("div",{className:"loader"}),i.a.createElement("p",{className:"loading-message"},d)):i.a.createElement(i.a.Fragment,null))};var j=function(e){var t;let{productData:n}=e;const o=Object(l.o)(),[r,s]=Object(a.useState)([]),[c,u]=Object(a.useState)({}),[d,m]=Object(a.useState)("selectIngredients"),[p,g]=Object(a.useState)(""),[h,y]=Object(a.useState)(""),f=v(n),b=null===(t=Object(l.m)().state)||void 0===t?void 0:t.recipe,_=()=>{m("adjustProportions")},E=(e,t)=>{let n=100-Object.keys(c).filter(e=>S(e)).reduce((e,t)=>e+c[t],0);const a=r.filter(e=>!S(e)),i={...c,[e]:t};n-=t;const o=a.filter(t=>t!==e).reduce((e,t)=>e+i[t],0);if(o>0){const t=n/o;a.forEach(n=>{if(n!==e){let e=i[n]*t;i[n]=e<0?0:e}})}else a.forEach(t=>{t!==e&&(i[t]=0)});u(i)},[k,w]=Object(a.useState)({}),S=e=>{const t=f[e];return!!t&&"additive"===t.phase},O=()=>{const e={...c};let t=0;Object.keys(e).forEach(n=>{S(n)||(e[n]=Math.round(e[n])),t+=e[n]});const n=100-t,a=Object.keys(e).filter(e=>!S(e)),i=n/a.length;a.forEach(t=>{e[t]+=i});let o=0;if(a.forEach(t=>{e[t]<0&&(o+=e[t],e[t]=0)}),o<0){const t=a.filter(t=>e[t]>=.01),n=Math.abs(o)/t.length;t.forEach(t=>{e[t]+=n})}const r=Object.values(e).reduce((e,t)=>e+t,0);if(r>100){const t=r-100,n=a.filter(t=>e[t]>0),i=t/n.length;n.forEach(t=>{e[t]-=i})}u(e)},j=()=>{setTimeout(()=>{O()},10)},x={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"};Object(a.useEffect)(()=>{const e={};r.forEach(t=>{S(t)?e[t]=1:e[t]=10}),u(t=>Object.keys(t).filter(e=>r.includes(e)).reduce((e,n)=>(e[n]=t[n],e),e))},[r]);const C=Object.values(c).reduce((e,t)=>e+t,0),I={color:Math.abs(C-100)<.01?"black":"red"};return Object(a.useEffect)(()=>{if(console.log("useeffectinitialRecipe",b),b){const e={},t=[];Object.keys(b).forEach(n=>{"commentary"===n?g(b.commentary):"shelfLifeEstimate"===n?y(b.shelfLifeEstimate):f[n]&&(e[n]=b[n],t.push(n))}),console.log("ingredientsfromresponse",e),u(e),s(t),_()}},[b]),i.a.createElement("div",null,"selectIngredients"===d&&i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("div",{style:x},i.a.createElement("h3",null,"Available Ingredients:"),i.a.createElement("button",{onClick:_},"Adjust Proportions"),i.a.createElement("span",null)),Object.entries(f).map(e=>{let[t,n]=e;return i.a.createElement("div",{className:(a=t,(r.includes(a)?"selected":"")+" ingredient-row"),key:t,onClick:()=>(e=>{if(r.includes(e)){s(r.filter(t=>t!==e));const t={...c};delete t[e],u(t)}else s([...r,e]),u({...c,[e]:"additive"===f[e].phase?f[e].default_percent:10})})(t)},i.a.createElement("strong",null,t),i.a.createElement("small",null,n.description));var a}))),"adjustProportions"===d&&i.a.createElement("div",{className:"recipe-builder-container"},i.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"}},i.a.createElement("button",{onClick:()=>{m("selectIngredients")}},"Back to Ingredients"),i.a.createElement("h3",null,"Proportions:"),i.a.createElement("span",{style:I,onClick:O},C.toFixed(2),"%")),i.a.createElement("div",{className:"scrollable-content"},i.a.createElement("table",{style:{width:"95%",borderCollapse:"collapse"}},i.a.createElement("tbody",null,r.map(e=>{var t;return i.a.createElement(i.a.Fragment,{key:e},i.a.createElement("tr",null,i.a.createElement("td",null,e),i.a.createElement("td",null,c[e].toFixed(2),"%")),i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"2"},S(e)?i.a.createElement("div",{style:{position:"relative"}},i.a.createElement("input",{type:"text",value:null!==(t=k[e])&&void 0!==t?t:c[e],onChange:t=>((e,t)=>{w({...k,[e]:t});const n=parseFloat(t),a=f[e].max_percent||100;if(!isNaN(n)&&t.match(/^\d+(\.\d+)?$/)){const t=n>a?a:n,i={...c,[e]:t};u(i),E(e,n)}})(e,t.target.value),onBlur:t=>(e=>{const t=k[e],n=t?parseFloat(t):0,a=f[e].max_percent||100,i=n>a?a:n;if(!isNaN(i)){const t={...c,[e]:i};u(t),E(e,i),n>a&&w({...k,[e]:a})}})(e,t.target.value),style:{width:"100%",borderColor:c[e]===f[e].max_percent?"red":"initial"}}),c[e]===f[e].max_percent&&i.a.createElement("span",{style:{position:"absolute",right:0,top:0,color:"red"}},"Max")):i.a.createElement("input",{type:"range",min:"0",max:"100",step:"0.01",value:c[e],onChange:t=>((e,t)=>{const n=parseFloat(t);E(e,n)})(e,t.target.value),onMouseUp:j,onTouchEnd:j,style:{width:"100%"}}))))}))),p&&i.a.createElement("div",{className:"commentary"},i.a.createElement("div",{style:x},i.a.createElement("h3",null,"Commentary:"),i.a.createElement("button",{onClick:()=>{console.log("boop")}},"Get Recipe Advice (Coming Soon!)")),i.a.createElement("p",null,p),i.a.createElement("p",null,"Estimated Shelf Life: ",h))),i.a.createElement("button",{className:"submit",onClick:()=>{O(),o("/finalize-recipe",{state:{recipe:c,commentary:p}})}},"Finalize Recipe")))};var x=function(){var e,t;const[n,o]=Object(a.useState)(""),r=Object(l.m)(),s=Object(l.o)(),u=null===(e=r.state)||void 0===e?void 0:e.recipe,d=null===(t=r.state)||void 0===t?void 0:t.commentary,p=n.trim().length>0;return i.a.createElement(y,{title:"Name Your Custom Skincare Recipe",isSubmitDisabled:!p,whyDisabled:"Please enter a recipe name.",handleSubmit:async()=>{try{const e=n.toLowerCase().replace(/[^a-z0-9]/gi,"").replace(/ /g,"-")+"-"+(new Date).getTime();console.log(e),console.log(r.state),await Object(c.f)(Object(c.c)(m,"formulations",e),{name:n,ingredients:u,commentary:d,createdAt:new Date}),console.log("Document written with ID: ",e),await h({recipeId:e}),s("/saved-recipe",{state:{recipeId:e}})}catch(e){console.error("Error adding document: ",e)}}},i.a.createElement("input",{type:"text",placeholder:"Enter recipe name",value:n,onChange:e=>o(e.target.value)}),i.a.createElement("h2",null,"Your Base Recipe"),i.a.createElement("div",{className:"recipe"},u&&Object.keys(u).map((e,t)=>i.a.createElement("div",{className:"recipe-row",key:t},i.a.createElement("strong",null,e,":")," ",i.a.createElement("span",{className:"align-right"},u[e].toFixed(2),"%")))),i.a.createElement("div",{className:"actions"},i.a.createElement("button",{onClick:()=>{s("/change-ingredients")}},"Change Ingredients"),i.a.createElement("button",{onClick:()=>{s("/recipe-builder")}},"Change Proportions")))};var C=function(){var e;const[t,n]=Object(a.useState)(null),o=Object(l.m)(),r=Object(l.o)(),s=null===(e=o.state)||void 0===e?void 0:e.recipeId,[u,d]=Object(a.useState)("Share this Recipe");return Object(a.useEffect)(()=>{const e=new URLSearchParams(o.search).get("recipeId");if(e){(async()=>{const t=Object(c.c)(m,"formulations",e),a=await Object(c.d)(t);a.exists()?n(a.data()):console.log("No such document!")})()}else if(s){(async()=>{const e=Object(c.c)(m,"formulations",s),t=await Object(c.d)(e);t.exists()?n(t.data()):console.log("No such document!")})()}},[s,o.search]),t?i.a.createElement("div",null,i.a.createElement("h2",null,t.name),i.a.createElement("div",{className:"recipe"},Object.keys(t.ingredients).map((e,n)=>i.a.createElement("div",{className:"recipe-row",key:n},i.a.createElement("strong",null,e,":")," ",i.a.createElement("span",{className:"align-right"},t.ingredients[e].toFixed(2))))),i.a.createElement("button",{onClick:()=>{const e=window.location.href,t="".concat(e,"?recipeId=").concat(s);navigator.clipboard.writeText(t).then(()=>{console.log("Recipe URL copied to clipboard!"),d("Copied!"),setTimeout(()=>{d("Share this Recipe")},3e3)}).catch(()=>{console.log("Error copying to clipboard")})}},u),i.a.createElement("button",{onClick:()=>{r("/order-formulation",{state:{recipeId:s}})}},"Order Formulation of this Recipe")):i.a.createElement("div",null,"Loading...")};var I=function(){var e;const t=Object(l.o)(),[n,o]=Object(a.useState)(null),[r,s]=Object(a.useState)(""),[u,d]=Object(a.useState)(""),[p,g]=Object(a.useState)(!0),[y,f]=Object(a.useState)(!0),[b,v]=Object(a.useState)({street1:"",street2:"",zip:""}),[_,E]=Object(a.useState)(""),[k,w]=Object(a.useState)(""),S=null===(e=Object(l.m)().state)||void 0===e?void 0:e.recipeId,[O,j]=Object(a.useState)(!1);return Object(a.useEffect)(()=>{if(S){(async()=>{const e=Object(c.c)(m,"formulations",S),t=await Object(c.d)(e);t.exists()?o(t.data()):console.log("No such document!")})()}},[S]),n?i.a.createElement("div",{className:"body-container"},i.a.createElement("h2",null,n.name),i.a.createElement("div",{className:"scrollable-content"},i.a.createElement("div",{className:"recipe"},Object.keys(n.ingredients).map((e,t)=>i.a.createElement("div",{key:t},i.a.createElement("strong",null,e),": ",n.ingredients[e]))),i.a.createElement("p",null,"While this service is in development, formulations are free to people located in Seattle! We only ask that you please provide a review of your product and feedback about your experience using the service. (We'll send you a way to access that after we deliver your formulation)."),i.a.createElement("form",{onSubmit:async e=>{j(!1),e.preventDefault();try{const e=(new Date).getTime()+"-"+S;await Object(c.f)(Object(c.c)(m,"orders",e),{name:r,recipeId:S,phoneNumber:u,pickup:y,address:y?null:b,createdAt:new Date,waitlist:!p,location:k,note:_}),console.log("Order submitted"),await h({orderId:e}),t("/order-success")}catch(e){console.error("Error submitting order: ",e),j(!0)}},className:"contact-us-form"},i.a.createElement("div",null,i.a.createElement("label",null,"Your Name:"),i.a.createElement("br",null),i.a.createElement("input",{type:"text",value:r,onChange:e=>s(e.target.value)})),i.a.createElement("div",null,i.a.createElement("label",null,"Mobile phone number (We'll text with you to coordinate delivery):"),i.a.createElement("br",null),i.a.createElement("input",{type:"tel",value:u,onChange:e=>d(e.target.value)})),i.a.createElement("div",null,i.a.createElement("label",null,"Do you live in the Seattle area?"),i.a.createElement("br",null),i.a.createElement("select",{value:p,onChange:e=>g("true"===e.target.value)},i.a.createElement("option",{value:"true"},"Yes"),i.a.createElement("option",{value:"false"},"No"))),p?i.a.createElement("div",null,i.a.createElement("label",null,"Do you want to pick it up from Chris Koss's house (South Beacon Hill)?"),i.a.createElement("br",null),i.a.createElement("select",{value:y,onChange:e=>f("true"===e.target.value)},i.a.createElement("option",{value:"true"},"Yes"),i.a.createElement("option",{value:"false"},"No")),!y&&i.a.createElement("div",null,i.a.createElement("label",null,"Delivery Address:"),i.a.createElement("br",null),i.a.createElement("input",{type:"text",placeholder:"Street 1",value:b.street1,onChange:e=>v({...b,street1:e.target.value})}),i.a.createElement("br",null),i.a.createElement("input",{type:"text",placeholder:"Street 2",value:b.street2,onChange:e=>v({...b,street2:e.target.value})}),i.a.createElement("br",null),i.a.createElement("input",{type:"text",value:"Seattle",readOnly:!0}),i.a.createElement("br",null),i.a.createElement("input",{type:"text",value:"WA",readOnly:!0}),i.a.createElement("br",null),i.a.createElement("input",{type:"text",placeholder:"Zip Code",value:b.zip,onChange:e=>v({...b,zip:e.target.value})}))):i.a.createElement("div",null,i.a.createElement("p",null,"We are currently only fulfilling orders within the Seattle area. You'll be added to the waitlist and we'll contact you when we start shipping orders."),i.a.createElement("label",null,"Where are you located?"),i.a.createElement("br",null),i.a.createElement("input",{type:"text",placeholder:"Your Location",onChange:e=>{w(e.target.value)}})),i.a.createElement("label",null,"Note:"),i.a.createElement("br",null),i.a.createElement("textarea",{placeholder:"Enter your note here",value:_,onChange:e=>E(e.target.value)}),i.a.createElement("button",{type:"submit",className:"submit"},"Submit Order"))),i.a.createElement("div",{className:"bottom-spacer"}),i.a.createElement("div",{className:"bottom-spacer"}),O&&i.a.createElement("p",{className:"why-disabled"},"Something went wrong submitting... please try again")):i.a.createElement("div",null,"Loading...")};var A=function(){return i.a.createElement("div",{className:"order-success body-container"},i.a.createElement("h2",null,"Order Submitted Successfully!"),i.a.createElement("p",null,"Your information has been successfully submitted. Please look out for a text message from Chris."),i.a.createElement("p",null,"We will coordinate the mixing time with you, ensuring that your formulation is mixed within 24 hours of when you receive it for maximum freshness."),i.a.createElement("p",null,"Thank you for using our service!"),i.a.createElement(s.b,{to:"/"},"Back to Home"))};var N=()=>{const[e,t]=Object(a.useState)(""),[n,o]=Object(a.useState)(""),[r,s]=Object(a.useState)(!1);return r?i.a.createElement("div",null,i.a.createElement("h1",null,"Thanks for contacting us! ",i.a.createElement("br",null)," We'll get back to you soon!"),i.a.createElement("a",{href:"/"},"Back to home")):i.a.createElement("form",{onSubmit:async t=>{t.preventDefault();try{await Object(c.a)(Object(c.b)(m,"contact-form-submissions"),{phoneNumber:e,message:n,createdAt:new Date}),s(!0)}catch(a){console.error("Error adding document: ",a)}},className:"contact-us-form"},i.a.createElement("h2",null,"Contact Us"),i.a.createElement("label",null,i.a.createElement("strong",null,"Phone number")," (if you'd like us to text you a response): ",i.a.createElement("br",null),i.a.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value)})),i.a.createElement("br",null),i.a.createElement("label",null,i.a.createElement("strong",null,"Message:"),i.a.createElement("br",null),i.a.createElement("textarea",{value:n,onChange:e=>o(e.target.value)})),i.a.createElement("button",{type:"submit"},"Submit"))};var D=function(){const e=Object(l.m)(),[t,n]=Object(a.useState)(null),[o,r]=Object(a.useState)(60),[s,u]=Object(a.useState)([]),d=s.reduce((e,t)=>e+t.grams,0),p=s.reduce((e,t)=>e+t.cost,0),g=Object.values((null===t||void 0===t?void 0:t.ingredients)||{}).reduce((e,t)=>e+t,0);Object(a.useEffect)(()=>{const t=new URLSearchParams(e.search);t.get("recipeId")&&(async()=>{const e=Object(c.c)(m,"formulations",t.get("recipeId")),a=await Object(c.d)(e);a.exists()?n(a.data()):console.log("No such document!")})()},[e.search]);const h=Object(a.useCallback)(()=>{if(t){const e=Object.values(t.ingredients).reduce((e,t)=>e+t,0),n=Object.entries(t.ingredients).map(t=>{let[n,a]=t;const i=o/e*a;return{name:n,parts:a,grams:i,cost:_[n].cost_per_g*i}});u(n)}},[t,o]);return Object(a.useEffect)(()=>{t&&o>0&&h()},[t,o,h]),i.a.createElement("div",{className:"order-pricing"},i.a.createElement("h1",null,"Order Pricing"),i.a.createElement("input",{type:"number",value:o,onChange:e=>r(e.target.value),placeholder:"Target Grams"}),i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Ingredient"),i.a.createElement("th",null,"Parts"),i.a.createElement("th",null,"Grams"),i.a.createElement("th",null,"Cost"))),i.a.createElement("tbody",null,s.map((e,t)=>i.a.createElement("tr",{key:t},i.a.createElement("td",null,e.name),i.a.createElement("td",null,e.parts),i.a.createElement("td",null,e.grams.toFixed(3)),i.a.createElement("td",null,"$",e.cost.toFixed(2)))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("strong",null,"Total")),i.a.createElement("td",null,g),i.a.createElement("td",null,d.toFixed(3)),i.a.createElement("td",null,"$",p.toFixed(2))))))};var P=function(){Object(l.o)();const e=Object(l.m)(),[t,n]=Object(a.useState)([]),[o,r]=Object(a.useState)(new Set),[s,u]=Object(a.useState)(!0),[d,p]=Object(a.useState)(null);Object(a.useEffect)(()=>{u(!0);const t=new URLSearchParams(e.search).get("recipeId");if(t){(async()=>{const e=Object(c.c)(m,"formulations",t),n=await Object(c.d)(e);n.exists()?(p(n.data()),console.log("Document data:",n.data())):(console.log("No such document!"),u(!1))})()}},[e.search]),Object(a.useEffect)(()=>{if(d){(async()=>{u(!0);try{const e=(()=>{let e="";return Object.keys(b).forEach((t,n,a)=>{e+=t,(b[t].hasOwnProperty("default_percent")||b[t].hasOwnProperty("max_percent"))&&(e+=" (",b[t].hasOwnProperty("default_percent")&&(e+="default: ".concat(b[t].default_percent),b[t].hasOwnProperty("max_percent")&&(e+=", ")),b[t].hasOwnProperty("max_percent")&&(e+="max: ".concat(b[t].max_percent)),e+=")"),n<a.length-1&&(e+=", ")}),e})();console.log("Ingredients:",e);const a=await fetch("https://us-central1-skincare-recipe-tool.cloudfunctions.net/getRecipeVariations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipe:d,ingredients:e})});if(console.log("Response:",a),!a.ok)throw new Error("Network response was not ok");const i=await a.json();console.log("Data:",i.reply.choices[0].message.content);const o=i.reply.choices[0].message.content;n(JSON.parse(o))}catch(e){console.error("Error fetching variations:",e)}finally{console.log("Variations fetched:",t),u(!1)}})()}},[d]),Object(a.useEffect)(()=>{console.log("Variations updated:",t)},[t]);const g=e=>{const t=new Set(o);t.has(e)?t.delete(e):t.add(e),r(t)};return i.a.createElement("div",{className:"variation-selection"},i.a.createElement("h2",null,"Select Your Desired Recipe Variations"),s?i.a.createElement("div",{className:"loading"},i.a.createElement("div",{className:"spinner"}),i.a.createElement("p",null,"Loading variations...")):i.a.createElement("div",null,i.a.createElement("button",{onClick:()=>g("original")},"Original Recipe"),t.filter(e=>0===Object.keys(e).filter(e=>"tagline"!==e&&"description"!==e).reduce((t,n)=>t+e[n],0)).map((e,t)=>i.a.createElement("div",{key:t,onClick:()=>g(t),style:{marginBottom:"20px",cursor:"pointer"}},i.a.createElement("h3",null,e.tagline),i.a.createElement("p",null,e.description),i.a.createElement("ul",null,Object.keys(e).filter(t=>"tagline"!==t&&"description"!==t&&0!==e[t]).map(t=>i.a.createElement("li",{key:t},"".concat(t,": ").concat(e[t]>0?"+":"").concat(e[t]))))))),i.a.createElement("button",{onClick:()=>{console.log("Selected variations:",[...o])},disabled:2!==o.size},"Submit"))},z=n(10);var R=()=>{const e=Object(l.o)(),[t,n]=Object(a.useState)(0),o=z[t],[r,s]=Object(a.useState)({}),u=Object(l.m)(),d=new URLSearchParams(u.search).get("orderId"),[p,g]=Object(a.useState)("");Object(a.useEffect)(()=>{if(d){var e=new Date;g(e.getTime()+"-"+d)}},[d]),Object(a.useEffect)(()=>{(async()=>{if(p){const e=Object(c.c)(m,"survey",p);await Object(c.f)(e,{orderId:d,startTime:new Date,responses:{}})}})()},[p,d]);const h=(e,t)=>{s({...r,[e]:t})};return i.a.createElement("div",{className:"body-container survey",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},i.a.createElement("div",{style:{margin:"0 auto",textAlign:"center"}},i.a.createElement("h2",null,o.section),(y=o).questions?y.questions.map((e,t)=>i.a.createElement("div",{key:t,style:{marginBottom:"20px"}},i.a.createElement("p",null,e.question),(e=>{const t=r[e.id]||"";switch(e.type){case"choice":return i.a.createElement("div",null,e.options.map((n,a)=>i.a.createElement("label",{key:a},i.a.createElement("input",{type:"radio",name:e.id,value:n,checked:t===n,onChange:t=>h(e.id,t.target.value)}),n,e.shouldAddLineBreak&&a!==e.options.length-1?i.a.createElement("br",null):null)));case"rating":return i.a.createElement("div",null,[...Array(e.scale).keys()].map(n=>i.a.createElement("label",{key:n},i.a.createElement("input",{type:"radio",name:e.id,value:n+1,checked:parseInt(t)===n+1,onChange:t=>h(e.id,t.target.value)}),n+1)));case"open_text":return i.a.createElement("textarea",{name:e.id,value:t,onChange:t=>h(e.id,t.target.value),placeholder:"Your answer..."});case"yes_no":return i.a.createElement("div",null,i.a.createElement("label",null,i.a.createElement("input",{type:"radio",name:e.id,value:"Yes",checked:"Yes"===t,onChange:t=>h(e.id,t.target.value)}),"Yes"),i.a.createElement("label",null,i.a.createElement("input",{type:"radio",name:e.id,value:"No",checked:"No"===t,onChange:t=>h(e.id,t.target.value)}),"No"));default:return null}})(e))):y.content?i.a.createElement("p",null,y.content):void 0,i.a.createElement("button",{onClick:async()=>{await(async()=>{const e=Object(c.c)(m,"survey",p);await Object(c.g)(e,{responses:{...r},lastTime:new Date})})(),"Future Orders"===z[t].section?"Yes, I'd like to evolve this recipe"===r.repeat_order_interest?n(t+1):n(t+2):t<z.length-1?n(t+1):e("/")},style:{marginTop:"20px"}},t===z.length-1?"Complete and Return Home":"Next")));var y};var F=e=>{let{score:t}=e;const n=e=>{const n=Math.abs(e-5);let a="";return 5===t?5===e&&(a="highlighted"):t<5?e>=t&&e<=5&&(a="highlighted intensity-".concat(n)):t>5&&e<=t&&e>=5&&(a="highlighted intensity-".concat(n)),"segment ".concat(a)};return i.a.createElement("div",{className:"score-bar"},[...Array(9)].map((e,t)=>i.a.createElement("div",{key:t,className:n(t+1)})))};const T=v("Before Bed Face Moisturizing Cream");var q=()=>{const[e,t]=Object(a.useState)({key:null,direction:"ascending"}),n=Object(a.useMemo)(()=>{const t=Object.entries(T).map(e=>{let[t,n]=e;return{name:t,...n}});return null!==e.key&&t.sort((t,n)=>t[e.key]<n[e.key]?"ascending"===e.direction?-1:1:t[e.key]>n[e.key]?"ascending"===e.direction?1:-1:0),t},[e]),o=n=>{let a="ascending";e.key===n&&"ascending"===e.direction&&(a="descending"),t({key:n,direction:a})};return i.a.createElement("div",null,i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{onClick:()=>o("name")},"Ingredient Name"),i.a.createElement("th",{onClick:()=>o("phase")},"Phase"),i.a.createElement("th",{onClick:()=>o("cost_per_g")},"Cost per g"),i.a.createElement("th",{onClick:()=>o("light_heavy")},"Light/Heavy"),i.a.createElement("th",{onClick:()=>o("penetrating_occlusive")},"Penetrating/Occlusive"),i.a.createElement("th",{onClick:()=>o("soothing_stimulating")},"Soothing/Stimulating"),i.a.createElement("th",{onClick:()=>o("gentle_active")},"Gentle/Active"))),i.a.createElement("tbody",null,n.map(e=>i.a.createElement("tr",{key:e.name},i.a.createElement("td",null,e.name),i.a.createElement("td",null,e.phase),i.a.createElement("td",null,e.cost_per_g),i.a.createElement("td",null,e.light_heavy," ",i.a.createElement(F,{score:e.light_heavy})),i.a.createElement("td",null,e.penetrating_occlusive,i.a.createElement(F,{score:e.penetrating_occlusive})),i.a.createElement("td",null,e.soothing_stimulating,i.a.createElement(F,{score:e.soothing_stimulating})),i.a.createElement("td",null,e.gentle_active,i.a.createElement(F,{score:e.gentle_active})))))))};var B=function(){const[e,t]=Object(a.useState)([]),[n,o]=Object(a.useState)("no"),[r,c]=Object(a.useState)([]),[u,d]=Object(a.useState)("");return Object(a.useEffect)(()=>{g()},[]),i.a.createElement(s.a,null,i.a.createElement(l.c,null,i.a.createElement(l.a,{path:"/",element:i.a.createElement("div",{style:{backgroundImage:'url("bgimg.png")',backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center top",height:"100vh",color:"#61685f"},className:"homePageContainer"},i.a.createElement("div",{className:"title"},i.a.createElement("h1",null,i.a.createElement("img",{src:"/logo.png",className:"logo",alt:"A logo of a leaf inside a drop"})," Skincremental"),i.a.createElement("h4",null,"Revolutionizing Skincare, One Batch at a Time!")),i.a.createElement(s.b,{to:"/product"},i.a.createElement("button",{className:"startbutton"},"Design Custom ",i.a.createElement("br",null)," Skincare Recipe")),i.a.createElement("div",{className:"homepageText"},i.a.createElement("p",null,i.a.createElement("strong",null,"Tailored to You, Evolving with You:")," ",i.a.createElement("br",null)," Small batch custom-crafted skincare that adapts to your unique needs, lifestyle, and environmental changes."),i.a.createElement("p",null,i.a.createElement("strong",null,"Double the Discovery, Double the Impact:")," ",i.a.createElement("br",null)," Embark on a skincare adventure with every order as you try two variations of your custom formulation. Use, assess, and let us know your favorite. Our AI assistant will refine your choice into two new exploratory batches for your next order. Your skincare journey is an ongoing adventure of discovery and optimization."),i.a.createElement("p",null,i.a.createElement("strong",null,"Tired of skincare cluttered with unnecessary preservatives, stabilizers and cheap synthetic fillers?")," We are too! Our mission is to provide you with skincare essentials free from the non-beneficial ingredients that are only added so it can sit in a warehouse for a year before it reaches you.  Our commitment to using only deeply nourishing ingredients means your skin receives only the best."),i.a.createElement("p",null,i.a.createElement("strong",null,"Knowledge is Power, Especially for Your Skin:"),"  Dive into the world of ingredients without the complexity. As you customize your formulation, we'll guide you through each ingredient's purpose. Say goodbye to mystery chemicals and hello to informed skincare choices."),i.a.createElement("p",null,i.a.createElement("strong",null,"Empowered by AI:"),"  Say hello to your new skincare partner, our AI-powered formulation assistant. It's not just about the initial match but how your skincare evolves with you, ensuring you always have the best for your skin."),i.a.createElement("p",null,i.a.createElement("strong",null,"Natural Preservation, Naturally Better:")," Delivering small batches within days of mixing means minimal need for preservatives. When needed, we opt for natural, plant-based options. Healthier for your skin, gentler on the planet."),i.a.createElement("p",null,i.a.createElement("strong",null,"Adapt with the Seasons:")," As the seasons change, so should your skincare. We fine-tune your formulation to adapt to seasonal shifts, ensuring your skin always gets what it needs, when it needs it."),i.a.createElement("p",null,i.a.createElement("strong",null,"Craft, Share, Earn:")," Ready to be a skincare trendsetter? Create and perfect your unique formulation, then share it with the world. Every time someone chooses your creation, you can earn rewards or support a cause close to your heart. Empower your skin and your community!"),i.a.createElement("p",null,i.a.createElement("strong",null,"Conscious, Clean, and Community-Driven:")," We're not just about great skincare; we're about a healthier planet. Our packaging? Recycled, sterilized, and reused for future orders. Our ingredients? We strive to source from local Pacific Northwest small and family-owned businesses whenever possible. For each jar you return for recycling, we\u2019ll donate $1 to a local charity."),i.a.createElement("p",null,i.a.createElement("strong",null,"Join the Skincremental Revolution:")," Where skincare is more than a routine \u2013 it's a dynamic, personalized journey. Be a part of a community that chooses sustainability, customization, and innovation.")),i.a.createElement(s.b,{to:"/product"},i.a.createElement("button",{className:"bottomstartbutton"},"Begin Your Skincare Journey")),i.a.createElement(s.b,{to:"/contact"},i.a.createElement("span",null,"Contact us")))}),i.a.createElement(l.a,{path:"/goals",element:i.a.createElement(f,{productData:u,setGoalsData:t,setIncludeFragranceApp:e=>{o(e)},setSelectedMoodsApp:e=>{c(e)}})}),i.a.createElement(l.a,{path:"/product",element:i.a.createElement(w,{setProductData:d})}),i.a.createElement(l.a,{path:"/summary",element:i.a.createElement(O,{goalsData:e,productData:u,includeFragrance:n,selectedMoods:r})}),i.a.createElement(l.a,{path:"/recipe-builder",element:i.a.createElement(j,{productData:u})}),i.a.createElement(l.a,{path:"/finalize-recipe",element:i.a.createElement(x,null)}),i.a.createElement(l.a,{path:"/saved-recipe",element:i.a.createElement(C,null)}),i.a.createElement(l.a,{path:"/order-formulation",element:i.a.createElement(I,null)}),i.a.createElement(l.a,{path:"/order-success",element:i.a.createElement(A,null)}),i.a.createElement(l.a,{path:"/contact",element:i.a.createElement(N,null)}),i.a.createElement(l.a,{path:"/order-pricing",element:i.a.createElement(D,null)}),i.a.createElement(l.a,{path:"/variation-selection",element:i.a.createElement(P,null)}),i.a.createElement(l.a,{path:"/order-survey",element:i.a.createElement(R,null)}),i.a.createElement(l.a,{path:"/ingredients-table",element:i.a.createElement(q,null)})))};var W=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then(t=>{let{getCLS:n,getFID:a,getFCP:i,getLCP:o,getTTFB:r}=t;n(e),a(e),i(e),o(e),r(e)})};r.a.createRoot(document.getElementById("root")).render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(B,null))),W()}},[[17,1,2]]]);
//# sourceMappingURL=main.aaf24a83.chunk.js.map